import{r as o,c as v,o as C,K as B,b as f,d as u,w as L,e as t,l as b,g as I,F as k,h as D,t as d,a as g,W as F}from"./app-CGObjEgI.js";import{_ as W}from"./DashboardLayout-DpZzYcFP.js";import{_ as z}from"./CardSpotlight.vue_vue_type_script_setup_true_lang-WubcN7tc.js";import"./index-CsRA-HnP.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";const M={class:"flex flex-col md:flex-row gap-6 p-1"},$={class:"flex-1 bg-white rounded-lg shadow p-4"},A={class:"grid grid-cols-1 md:grid-cols-2"},N={class:"flex flex-col justify-between space-y-2"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 px-4"},T={class:"bg-white shadow p-4 rounded-lg text-center"},E={class:"text-3xl font-bold text-mcclightblue"},V={class:"bg-white shadow p-4 rounded-lg text-center"},j={class:"text-2xl font-bold text-gray-700"},P={__name:"Instructors",setup(G){const h=e=>{F.visit(`/instructors/${e}`)},n=o(""),c=o(""),x=o(""),m=o({}),i=o({}),r=o({total:0,male:0,female:0}),l=o([{label:"BSIT",count:0,color:"#dc2626"},{label:"BSBA",count:0,color:"#16a34a"},{label:"BSHM",count:0,color:"#ea580c"},{label:"EDUC",count:0,color:"#1e3a8a"}]),_=async()=>{try{const e=await g.get("/session");n.value=e.data.fullname,c.value=e.data.level,x.value=e.data.username,(!n.value||!c.value)&&(window.location.href="/")}catch{window.location.href="/"}},y=async()=>{try{const e=await g.get("/instructor-stats");m.value=e.data.byDepartment,i.value=e.data.byGender,r.value=e.data.totals,l.value=l.value.map(a=>({...a,count:m.value[a.label]||0}))}catch(e){console.error("Failed to fetch teacher stats:",e)}},w=v(()=>({tooltip:{trigger:"axis"},xAxis:{type:"category",data:l.value.map(e=>e.label),axisLabel:{fontWeight:"bold",color:"#374151"}},yAxis:{type:"value",axisLabel:{color:"#6B7280"}},series:[{data:l.value.map(e=>e.count),type:"bar",barWidth:"50%",itemStyle:{borderRadius:6,color:e=>l.value[e.dataIndex].color}}],grid:{left:"5%",right:"5%",bottom:"10%",top:"10%",containLabel:!0}})),S=v(()=>({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:i.value.male||0,name:"Male",itemStyle:{color:"#3b82f6"}},{value:i.value.female||0,name:"Female",itemStyle:{color:"#f472b6"}}]}]}));return C(()=>{_(),y()}),(e,a)=>{const p=B("v-chart");return u(),f(W,{fullname:n.value,userLevel:c.value,title:"Instructors",class:"animate-slide-in-top"},{default:L(()=>[t("div",M,[t("div",$,[a[0]||(a[0]=t("h2",{class:"text-sm md:text-lg font-semibold text-gray-700 mb-2"},"Instructor Statistics",-1)),t("div",A,[b(p,{option:w.value,autoresize:"",class:"h-[300px]"},null,8,["option"]),b(p,{option:S.value,autoresize:"",class:"h-[300px]"},null,8,["option"])])]),t("div",N,[(u(!0),I(k,null,D(l.value,s=>(u(),f(z,{key:s.label,label:s.label,count:s.count,iconName:"teachers",useSvg:!0,bgColor:s.color,gradientSize:0,class:"cursor-pointer md:w-[300px] h-[90px]",onClick:H=>h(s.label)},null,8,["label","count","bgColor","onClick"]))),128))])]),t("div",O,[t("div",T,[a[1]||(a[1]=t("h3",{class:"text-gray-700 font-semibold text-lg"},"Total Instructors",-1)),t("p",E,d(r.value.total),1)]),t("div",V,[a[2]||(a[2]=t("h3",{class:"text-gray-700 font-semibold text-lg"},"Male / Female",-1)),t("p",j," ðŸ‘¨ "+d(r.value.male)+" Â Â  ðŸ‘© "+d(r.value.female),1)])])]),_:1},8,["fullname","userLevel"])}}};export{P as default};
