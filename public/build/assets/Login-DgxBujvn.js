import{o as oe,z as ie,A as ne,B as ce,C as de,D as ue,E as fe,r as se,g as L,d as G,e as l,G as pe,H as me,n as J,u as Q,q as we,b as ge,w as be,p as he,f as ee,i as xe,k as ye,y as ve,a as ke}from"./app-h29nfEoJ.js";import{S as P}from"./sweetalert2.esm.all-BQIkj5Wb.js";const Ce=1/3,h=1/6,Y=s=>Math.floor(s)|0,Z=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function Se(s=Math.random){const t=Me(s),o=new Float64Array(t).map(u=>Z[u%12*3]),e=new Float64Array(t).map(u=>Z[u%12*3+1]),a=new Float64Array(t).map(u=>Z[u%12*3+2]);return function(r,c,n){let d,w,g,U;const A=(r+c+n)*Ce,z=Y(r+A),p=Y(c+A),i=Y(n+A),m=(z+p+i)*h,O=z-m,ae=p-m,le=i-m,x=r-O,y=c-ae,b=n-le;let v,k,C,S,M,_;x>=y?y>=b?(v=1,k=0,C=0,S=1,M=1,_=0):x>=b?(v=1,k=0,C=0,S=1,M=0,_=1):(v=0,k=0,C=1,S=1,M=0,_=1):y<b?(v=0,k=0,C=1,S=0,M=1,_=1):x<b?(v=0,k=1,C=0,S=0,M=1,_=1):(v=0,k=1,C=0,S=1,M=1,_=0);const R=x-v+h,q=y-k+h,D=b-C+h,E=x-S+2*h,N=y-M+2*h,H=b-_+2*h,V=x-1+3*h,K=y-1+3*h,X=b-1+3*h,I=z&255,T=p&255,$=i&255;let j=.6-x*x-y*y-b*b;if(j<0)d=0;else{const f=I+t[T+t[$]];j*=j,d=j*j*(o[f]*x+e[f]*y+a[f]*b)}let B=.6-R*R-q*q-D*D;if(B<0)w=0;else{const f=I+v+t[T+k+t[$+C]];B*=B,w=B*B*(o[f]*R+e[f]*q+a[f]*D)}let F=.6-E*E-N*N-H*H;if(F<0)g=0;else{const f=I+S+t[T+M+t[$+_]];F*=F,g=F*F*(o[f]*E+e[f]*N+a[f]*H)}let W=.6-V*V-K*K-X*X;if(W<0)U=0;else{const f=I+1+t[T+1+t[$+1]];W*=W,U=W*W*(o[f]*V+e[f]*K+a[f]*X)}return 32*(d+w+g+U)}}function Me(s){const o=new Uint8Array(512);for(let e=0;e<512/2;e++)o[e]=e;for(let e=0;e<512/2-1;e++){const a=e+~~(s()*(256-e)),u=o[e];o[e]=o[a],o[a]=u}for(let e=256;e<512;e++)o[e]=o[e-256];return o}function re(s){var t,o,e="";if(typeof s=="string"||typeof s=="number")e+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(t=0;t<a;t++)s[t]&&(o=re(s[t]))&&(e&&(e+=" "),e+=o)}else for(o in s)s[o]&&(e&&(e+=" "),e+=o);return e}function _e(){for(var s,t,o=0,e="",a=arguments.length;o<a;o++)(s=arguments[o])&&(t=re(s))&&(e&&(e+=" "),e+=t);return e}function te(...s){return _e(...s)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Pe(s){return ne()}function Ae(s,t=!0,o){Pe()?oe(s,o):t?s():ie(s)}function ze(s,t=null){const o=ne();let e=()=>{};const a=ce((u,r)=>(e=r,{get(){var c,n;return u(),(n=(c=o==null?void 0:o.proxy)==null?void 0:c.$refs[s])!=null?n:t},set(){}}));return Ae(e),de(e),a}const Ue=ue({__name:"WavyBackground",props:{class:{},containerClass:{},colors:{default:()=>["#43aac9","#2a7a9f","#00307a","#7ec8e3"]},waveWidth:{default:35},blur:{default:15},speed:{default:"fast"},waveOpacity:{default:.4}},setup(s){const t=s,o=Se();let e,a,u=0,r=null,c;const n=ze("canvasRef");function d(){return t.speed==="slow"?.001:.002}function w(p){return .5+.5*Math.sin(p*7e-5*2*Math.PI)}function g(){const p=n.value;if(p&&(r=p.getContext("2d"),r)){const i=n.value.parentElement;i&&(e=r.canvas.width=i.clientWidth,a=r.canvas.height=i.clientHeight),r.filter=`blur(${t.blur}px)`,window.onresize=()=>{i&&r&&(e=r.canvas.width=i.clientWidth,a=r.canvas.height=i.clientHeight,r.filter=`blur(${t.blur}px)`)},A()}}function U(p){u+=d();for(let i=0;i<p;i++){r.beginPath(),r.lineWidth=t.waveWidth,r.strokeStyle=t.colors[i%t.colors.length];for(let m=0;m<e;m+=5){const O=o(m/800,.3*i,u)*100;r.lineTo(m,O+a*.5)}r.stroke(),r.closePath()}}function A(p=0){if(!r)return;const i=w(p),m=r.createLinearGradient(0,a*-i,0,a*(1-i));m.addColorStop(0,"#43aac9"),m.addColorStop(1,"#f9fafc"),r.globalAlpha=1,r.fillStyle=m,r.fillRect(0,0,e,a),r.globalAlpha=t.waveOpacity,U(10),c=requestAnimationFrame(A)}fe(()=>{cancelAnimationFrame(c)});const z=se(!1);return oe(()=>{z.value=typeof window<"u"&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),g()}),(p,i)=>(G(),L("div",{class:J(Q(te)("h-screen flex flex-col items-center justify-center",t.containerClass))},[l("canvas",{id:"canvas",ref_key:"canvasRef",ref:n,class:"absolute z-0",style:pe({filter:z.value?`blur(${t.blur}px)`:void 0})},null,4),l("div",{class:J(Q(te)("relative z-10",t.class))},[me(p.$slots,"default")],2)],2))}}),je={class:"flex w-full mx-auto md:flex-row flex-col items-center justify-between gap-x-60 md:px-20"},Be={class:"w-full md:w-1/2 flex items-center justify-center py-8 animate-slide-in-top"},Fe={class:"w-[90%] md:max-w-sm bg-white p-6 rounded-lg shadow-xl border border-gray-200"},We={class:"relative"},Ge={class:"relative"},Ie=["type"],Te={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$e={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Re={__name:"Login",setup(s){const t=we({Username:"",Password:"",remember:!1}),o=se(!1);function e(){o.value=!o.value}function a(){}async function u(){var c,n;if(!t.Username||!t.Password)return P.fire({icon:"error",title:"Oops...",text:"Please fill in both Username and Password."});try{const d=await ke.post("/custom-login",t);console.log("Session data:",d.data);const w=d.data.fullname||"User";P.fire({icon:"success",title:"Login Successful!",text:"Welcome, "+w+"!",timer:1800,showConfirmButton:!1}).then(()=>{window.location.href=d.data.redirect})}catch(d){const w=(c=d.response)==null?void 0:c.status,g=(n=d.response)==null?void 0:n.data;w===404&&g.error==="not_found"?P.fire("User Not Found","No account with that Username.","error"):w===401&&g.error==="wrong_password"?P.fire("Incorrect Password",`Wrong password. ${g.attempts} attempt(s) remaining.`,"error"):w===429&&g.error==="locked"?r():P.fire("Login Failed","Something went wrong. Please try again.","error")}}function r(){let c=60;P.fire({title:"Too Many Attempts",html:`Try again in <b>${c}</b> seconds.`,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{const n=P.getHtmlContainer().querySelector("b"),d=setInterval(()=>{c--,n.textContent=c,c<=0&&(clearInterval(d),location.reload())},1e3)}})}return(c,n)=>(G(),ge(Ue,null,{default:be(()=>[l("div",je,[n[8]||(n[8]=l("div",{class:"flex flex-col justify-center items-center md:w-1/2 px-6 py-10 md:-mt-20 animate-slide-in-top"},[l("div",{class:"w-full max-w-md text-center"},[l("img",{src:"/logo.png",alt:"Logo",class:"h-52 select-none md:h-80 mb-[-70px] md:mb-[-35px] mx-auto"}),l("p",{class:"hidden md:block text-lg md:text-xl text-mccmidnightblue mt-0"}," Monitor your grades in real-time with MCCâ€™s official grading and info system. ")])],-1)),l("div",Be,[l("div",Fe,[l("form",{onSubmit:he(u,["prevent"]),class:"space-y-4"},[l("div",We,[ee(l("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>t.Username=d),type:"text",id:"username",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:""},null,512),[[xe,t.Username]]),n[2]||(n[2]=l("label",{for:"username",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Username ",-1))]),l("div",Ge,[ee(l("input",{"onUpdate:modelValue":n[1]||(n[1]=d=>t.Password=d),type:o.value?"text":"password",id:"password",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:"",onInput:a},null,40,Ie),[[ve,t.Password]]),n[5]||(n[5]=l("label",{for:"password",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Password ",-1)),t.Password?(G(),L("button",{key:0,type:"button",onClick:e,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-mccblue transition"},[o.value?(G(),L("svg",$e,n[4]||(n[4]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.036 10.036 0 013.262-4.572M9.88 9.88a3 3 0 104.24 4.24M6.1 6.1l11.8 11.8"},null,-1)]))):(G(),L("svg",Te,n[3]||(n[3]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.522 5 12 5c4.478 0 8.268 2.943 9.542 7-.728 2.314-2.254 4.33-4.293 5.657M15 12a3 3 0 01-6 0"},null,-1)])))])):ye("",!0)]),n[6]||(n[6]=l("button",{type:"submit",class:"w-full select-none bg-mccblue hover:bg-mccdarkblue text-white font-semibold py-2 rounded-md transition duration-200"}," Log In ",-1)),n[7]||(n[7]=l("div",{class:"text-center"},[l("a",{href:"#",class:"text-mccblue hover:underline text-sm transition"},"Forgot Password?")],-1))],32)])])])]),_:1}))}};export{Re as default};
