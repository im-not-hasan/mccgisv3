import{r as m,K as Y,g as o,d as l,e,l as L,w as z,b as O,L as re,k as S,t as r,p as J,f as D,i as P,F as $,h as E,v as Q,T as R,a as B,c as U,o as ie,n as se,fj as ce,j as T}from"./app-BgyXi-Fv.js";import{S as j}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as de}from"./DashboardLayout-Cc1Y4xz-.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},pe={class:"bg-white w-[90%] max-w-2xl p-6 rounded-xl shadow-lg relative animate-fade-in-up"},xe={class:"text-xl font-bold mb-4 text-mccblue select-none"},me=["value"],ve={__name:"ClassesForm",props:{editMode:Boolean,classToEdit:Object},emits:["submitted","cancelEdit"],setup(C,{emit:M}){const x=M,_=C,k=["BSIT","BSBA","BSHM","BSED","BEED"],g=m(!1),n=m({name:"",course:"",year:"",section:""}),f=()=>{_.editMode||(b(),g.value=!0)},y=()=>{g.value=!1,b(),x("cancelEdit")},b=()=>{n.value={name:"",course:"",year:"",section:""}};Y(()=>_.classToEdit,p=>{_.editMode&&p&&(n.value={name:p.name,course:p.course,year:p.year,section:p.section},g.value=!0)},{immediate:!0});const d=async()=>{var p;try{_.editMode&&((p=_.classToEdit)!=null&&p.id)?(await B.put(`/classes/${_.classToEdit.id}`,n.value),j.fire({icon:"success",title:"Class Updated",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})):(await B.post("/classes",n.value),j.fire({icon:"success",title:"Class Added",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})),b(),g.value=!1,x("submitted")}catch{j.fire("Error","Failed to save class.","error")}};return(p,a)=>(l(),o("div",null,[e("button",{onClick:f,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded-lg shadow-md transition"},a[4]||(a[4]=[e("p",{class:"text-xs md:text-base select-none"},"+ Add Class",-1)])),L(R,{name:"fade"},{default:z(()=>[(l(),O(re,{to:"body"},[g.value?(l(),o("div",ue,[e("div",pe,[e("h2",xe,r(C.editMode?"Edit Class":"Add New Class"),1),e("form",{onSubmit:J(d,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[a[5]||(a[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Class Name",-1)),D(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=w=>n.value.name=w),placeholder:"e.g. BSIT 1-North",class:"select-none w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},null,512),[[P,n.value.name]])]),e("div",null,[a[7]||(a[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course",-1)),D(e("select",{"onUpdate:modelValue":a[1]||(a[1]=w=>n.value.course=w),class:"w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},[a[6]||(a[6]=e("option",{value:"",disabled:""},"Select Course",-1)),(l(),o($,null,E(k,w=>e("option",{key:w,value:w},r(w),9,me)),64))],512),[[Q,n.value.course]])]),e("div",null,[a[9]||(a[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Year",-1)),D(e("select",{"onUpdate:modelValue":a[2]||(a[2]=w=>n.value.year=w),class:"w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},a[8]||(a[8]=[e("option",{value:"",disabled:""},"Select Year",-1),e("option",{value:"1"},"1st Year",-1),e("option",{value:"2"},"2nd Year",-1),e("option",{value:"3"},"3rd Year",-1),e("option",{value:"4"},"4th Year",-1)]),512),[[Q,n.value.year]])]),e("div",null,[a[10]||(a[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Section",-1)),D(e("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=w=>n.value.section=w),placeholder:"e.g. A",class:"select-none w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},null,512),[[P,n.value.section]])]),e("div",{class:"md:col-span-2 flex justify-end gap-4 pt-4"},[e("button",{type:"button",onClick:y,class:"text-gray-600 hover:text-red-500 transition"},"Cancel"),a[11]||(a[11]=e("button",{type:"submit",class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded-md transition"},"Save",-1))])],32),e("button",{onClick:y,class:"absolute top-4 right-4 text-gray-500 text-2xl hover:text-red-500 transition"}," × ")])])):S("",!0)]))]),_:1})]))}},be=W(ve,[["__scopeId","data-v-c613dfa4"]]),ye={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},fe={class:"bg-white w-full max-w-4xl p-6 rounded-lg shadow-lg relative overflow-y-auto max-h-[90vh] animate-fade-in-up"},he={class:"text-xl sm:text-2xl font-bold mb-4 text-mccblue"},ge={key:0,class:"flex justify-center py-4"},we={key:1},_e={class:"mb-6"},ke={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2"},Ce=["disabled"],$e={key:0,class:"mt-2 border rounded bg-white shadow max-h-40 overflow-auto text-xs sm:text-sm"},Se=["onClick"],Ee={class:"overflow-x-auto rounded-lg border shadow"},Be={class:"min-w-full text-xs sm:text-sm bg-white"},je={class:"px-2 sm:px-4 py-2"},Me={class:"px-2 sm:px-4 py-2"},Ve={class:"px-2 sm:px-4 py-2"},De={class:"px-2 sm:px-4 py-2"},Ne={class:"px-2 sm:px-4 py-2 text-center"},Te={class:"px-2 sm:px-4 py-2 text-center"},Ae=["onClick"],Fe={key:0},Le={__name:"StudentsInClass",props:{visible:Boolean,selectedClass:Object},emits:["close","updated"],setup(C,{emit:M}){const x=C,_=M,k=m([]),g=m([]),n=m(""),f=m(null),y=m([]),b=m(!1),d=u=>`${u.lname}, ${u.fname} ${u.mname||""}`.trim(),p=async()=>{var u;if((u=x.selectedClass)!=null&&u.id){b.value=!0;try{const i=await B.get(`/classes/${x.selectedClass.id}/students`);k.value=i.data.students}catch(i){console.error("Error fetching students:",i)}finally{b.value=!1}}},a=async()=>{try{const u=await B.get("/students",{params:{course:x.selectedClass.course,year:x.selectedClass.year}});g.value=u.data.students}catch(u){console.error("Error fetching eligible students:",u)}},w=U(()=>[...k.value].sort((u,i)=>u.gender!==i.gender?u.gender==="Male"?-1:1:u.lname.localeCompare(i.lname))),V=()=>{const u=n.value.toLowerCase();y.value=g.value.filter(i=>d(i).toLowerCase().includes(u)&&!k.value.some(h=>h.id===i.id))},A=u=>{n.value=d(u),f.value=u.id,y.value=[]},q=async()=>{if(f.value)try{await B.post(`/classes/${x.selectedClass.id}/students`,{student_id:f.value}),j.fire("Added","Student added to class","success"),f.value=null,n.value="",await p(),_("updated")}catch(u){console.error("Error adding student:",u),j.fire("Error","Failed to add student","error")}},G=async u=>{try{await B.delete(`/classes/${x.selectedClass.id}/students/${u}`),j.fire("Deleted","Student removed from class","success"),await p(),_("updated")}catch(i){console.error("Error removing student:",i),j.fire("Error","Failed to remove student","error")}},F=()=>_("close");return Y(()=>x.visible,async u=>{u&&(b.value=!0,await p(),await a(),n.value="",f.value=null,y.value=[],b.value=!1)}),(u,i)=>(l(),O(R,{name:"fade"},{default:z(()=>[C.visible?(l(),o("div",ye,[e("div",fe,[e("h2",he," Students in "+r(C.selectedClass.name),1),b.value?(l(),o("div",ge,i[1]||(i[1]=[e("svg",{class:"animate-spin h-8 w-8 text-mccblue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):(l(),o("div",we,[e("div",_e,[i[2]||(i[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Add Student",-1)),e("div",ke,[D(e("input",{"onUpdate:modelValue":i[0]||(i[0]=h=>n.value=h),type:"text",placeholder:"Search student by name...",class:"w-full border rounded px-3 py-2 text-xs sm:text-sm",onInput:V},null,544),[[P,n.value]]),e("button",{onClick:q,disabled:!f.value,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-xs sm:text-sm"}," Add ",8,Ce)]),y.value.length&&n.value?(l(),o("ul",$e,[(l(!0),o($,null,E(y.value,h=>(l(),o("li",{key:h.id,class:"px-4 py-2 hover:bg-mcclightblue hover:text-white cursor-pointer",onClick:H=>A(h)},r(d(h))+" ("+r(h.gender)+") ",9,Se))),128))])):S("",!0)]),e("div",Ee,[e("table",Be,[i[4]||(i[4]=e("thead",{class:"bg-mcclightblue text-white"},[e("tr",null,[e("th",{class:"px-2 sm:px-4 py-2"},"Student ID"),e("th",{class:"px-2 sm:px-4 py-2"},"Last Name"),e("th",{class:"px-2 sm:px-4 py-2"},"First Name"),e("th",{class:"px-2 sm:px-4 py-2"},"Middle Name"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Gender"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Action")])],-1)),e("tbody",null,[(l(!0),o($,null,E(w.value,h=>(l(),o("tr",{key:h.id,class:"hover:bg-gray-100"},[e("td",je,r(h.studid),1),e("td",Me,r(h.lname),1),e("td",Ve,r(h.fname),1),e("td",De,r(h.mname),1),e("td",Ne,r(h.gender),1),e("td",Te,[e("button",{onClick:H=>G(h.id),class:"text-red-600 hover:underline"},"Delete",8,Ae)])]))),128)),k.value.length===0?(l(),o("tr",Fe,i[3]||(i[3]=[e("td",{colspan:"6",class:"text-center py-4"},"No students in this class.",-1)]))):S("",!0)])])])])),e("button",{onClick:F,class:"absolute top-4 right-4 text-xl text-gray-600 hover:text-red-500"}," × ")])])):S("",!0)]),_:1}))}},Ue=W(Le,[["__scopeId","data-v-ee490ae3"]]),Pe={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},Ye={class:"bg-white w-full max-w-5xl p-6 rounded-lg shadow-lg relative overflow-y-auto max-h-[90vh] animate-fade-in-up"},ze={class:"text-xl sm:text-2xl font-bold mb-4 text-mccblue"},Oe={key:0,class:"flex justify-center py-4"},qe={key:1},Ge={class:"overflow-x-auto rounded-lg border shadow"},He={class:"min-w-full text-xs sm:text-sm bg-white"},Ie={class:"px-2 sm:px-4 py-2"},Ke={class:"px-2 sm:px-4 py-2"},Je={class:"px-2 sm:px-4 py-2"},Qe={class:"px-2 sm:px-4 py-2 text-center space-x-2"},Re=["onClick"],We={key:0},Xe={__name:"SubjectsInClass",props:{visible:Boolean,selectedClass:Object},emits:["close","updated"],setup(C,{emit:M}){const x=C,_=M,k=m([]),g=m(!1),n=async()=>{var b;if((b=x.selectedClass)!=null&&b.id){g.value=!0;try{const d=await B.get(`/classes/${x.selectedClass.id}/subjects`);k.value=d.data.subjects}catch(d){console.error("Error fetching subjects:",d)}finally{g.value=!1}}};function f(b,d){const p=route("gradesheet.print",{subject_id:b.id,course:d.course,year:d.year,section:d.section,ay_id:b.ay_id,teacher_id:b.teacher_id});window.open(p,"_blank")}const y=()=>_("close");return Y(()=>x.visible,async b=>{b&&(g.value=!0,await n())}),(b,d)=>(l(),O(R,{name:"fade"},{default:z(()=>[C.visible?(l(),o("div",Pe,[e("div",Ye,[e("h2",ze," Subjects in "+r(C.selectedClass.name),1),g.value?(l(),o("div",Oe,d[0]||(d[0]=[e("svg",{class:"animate-spin h-8 w-8 text-mccblue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):(l(),o("div",qe,[e("div",Ge,[e("table",He,[d[3]||(d[3]=e("thead",{class:"bg-mcclightblue text-white"},[e("tr",null,[e("th",{class:"px-2 sm:px-4 py-2"},"Subject Code"),e("th",{class:"px-2 sm:px-4 py-2"},"Description"),e("th",{class:"px-2 sm:px-4 py-2"},"Instructor"),e("th",{class:"px-2 sm:px-4 py-2"},"Status"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Action")])],-1)),e("tbody",null,[(l(!0),o($,null,E(k.value,p=>(l(),o("tr",{key:p.id,class:"hover:bg-gray-100"},[e("td",Ie,r(p.code),1),e("td",Ke,r(p.title),1),e("td",Je,r(p.instructor),1),d[1]||(d[1]=e("td",{class:"px-2 sm:px-4 py-2"}," Not submitted",-1)),e("td",Qe,[e("button",{class:"text-blue-600 select-none hover:underline",onClick:a=>f(p,C.selectedClass)},"Print",8,Re)])]))),128)),k.value.length===0?(l(),o("tr",We,d[2]||(d[2]=[e("td",{colspan:"6",class:"text-center py-4"},"No subjects in this class.",-1)]))):S("",!0)])])])])),e("button",{onClick:y,class:"absolute top-4 right-4 text-xl text-gray-600 hover:text-red-500"}," × ")])])):S("",!0)]),_:1}))}},Ze=W(Xe,[["__scopeId","data-v-795df2b4"]]),et={key:0},tt={class:"flex flex-col md:flex-row justify-between select-none items-center p-5 mt-[-30px] mb-[-20px]"},st={class:"mb-2 md:mb-0"},lt=["value"],ot=["value"],nt={class:"text-gray-700"},at={class:"flex flex-row gap-2 items-center mb-5 md:mb-0"},rt={class:"px-0 sm:px-4 animate-slide-in-top"},it={class:"overflow-x-auto rounded-lg border shadow"},ct={key:0,class:"min-w-full bg-white text-xs sm:text-sm"},dt={class:"bg-mcclightblue text-white"},ut=["onClick"],pt={key:0},xt=["onDblclick"],mt={class:"px-2 sm:px-4 py-2"},vt={class:"px-2 sm:px-4 py-2 text-center"},bt={class:"px-2 sm:px-4 py-2 text-center"},yt={class:"px-2 sm:px-4 py-2 text-center"},ft={class:"px-2 sm:px-4 py-2 text-center space-x-2"},ht=["onClick"],gt=["onClick"],wt=["onClick"],_t={key:0},kt={key:1,class:"min-w-full bg-white text-xs sm:text-sm"},Ct={class:"bg-mcclightblue text-white"},$t=["onClick"],St={key:0},Et=["onDblclick"],Bt={class:"px-2 sm:px-4 py-2"},jt={class:"px-2 sm:px-4 py-2 text-center"},Mt={class:"px-2 sm:px-4 py-2 text-center"},Vt={class:"px-2 sm:px-4 py-2 text-center"},Dt={class:"px-2 sm:px-4 py-2 text-center space-x-2"},Nt=["onClick"],Tt={key:0},At={class:"flex flex-col sm:flex-row justify-between bg-mcclightblue items-center px-2 text-xs sm:text-sm text-white select-none"},Ft={class:"mb-2 sm:mb-0"},Lt={class:"font-semibold"},Ut={class:"font-semibold"},Pt={class:"font-semibold"},Yt={class:"flex flex-wrap gap-1"},zt=["disabled"],Ot=["onClick"],qt=["disabled"],Gt={key:1,class:"text-center text-red-500"},Qt={__name:"ViewClasses",setup(C){const M=m(""),x=m(""),_=m(""),k=m([]),g=m(""),n=m([{key:"year",direction:"asc"}]),f=m(10),y=m(1),b=["BSIT","BSBA","BSHM","BSED","BEED"],d=m([...b]),p=m(!1),a=m(null),w=m(!1),V=m(null),A=c=>{V.value=c,w.value=!0},q=()=>{w.value=!1,V.value=null},G=async()=>{await i()},F=[{key:"name",label:"Class Name"},{key:"course",label:"Course"},{key:"year",label:"Year"},{key:"section",label:"Section"}],u=async()=>{try{const c=await B.get("/session");M.value=c.data.fullname,x.value=c.data.level,_.value=c.data.username,(!M.value||!x.value)&&(window.location.href="/")}catch{window.location.href="/"}},i=async()=>{try{const c={courses:d.value.join(",")},s=await B.get("/api/classes",{params:c});k.value=s.data.classes}catch(c){console.error("Failed to load class list:",c)}},h=async c=>{if((await j.fire({title:"Delete Class?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete"})).isConfirmed)try{await B.delete(`/classes/${c}`),await i(),j.fire({icon:"success",title:"Class Deleted",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})}catch{j.fire("Error","Failed to delete class","error")}},H=c=>{p.value=!0,a.value={...c}},le=()=>{p.value=!1,a.value=null},oe=async()=>{p.value=!1,a.value=null,await i()},I=U(()=>k.value.filter(c=>d.value.includes(c.course)&&Object.values(c).join(" ").toLowerCase().includes(g.value.toLowerCase())).sort((c,s)=>{for(const t of n.value){const v=t.key,te=t.direction;if(c[v]<s[v])return te==="asc"?-1:1;if(c[v]>s[v])return te==="asc"?1:-1}return 0})),N=U(()=>{const c=(y.value-1)*f.value;return I.value.slice(c,c+f.value)}),X=U(()=>Math.ceil(I.value.length/f.value)),Z=()=>{y.value=1},ee=c=>{const s=n.value.findIndex(t=>t.key===c);s!==-1?n.value[s].direction=n.value[s].direction==="asc"?"desc":"asc":n.value.push({key:c,direction:"asc"})},K=m(!1),ne=c=>{V.value=c,K.value=!0},ae=()=>{K.value=!1,V.value=null};return ie(()=>{u(),i()}),Y(d,()=>{i()}),(c,s)=>(l(),o($,null,[L(de,{fullname:M.value,userLevel:x.value,title:"All Classes"},{default:z(()=>[x.value==="admin"||x.value==="registrar"?(l(),o("div",et,[e("div",tt,[e("div",st,[s[6]||(s[6]=e("label",{class:"mr-2"},"Show",-1)),D(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),onChange:Z,class:"border py-1 rounded"},[(l(),o($,null,E([10,25,50,100],t=>e("option",{key:t,value:t},r(t),9,lt)),64))],544),[[Q,f.value]]),s[7]||(s[7]=e("span",{class:"ml-2"},"entries",-1))]),e("div",{class:se(["flex flex-wrap gap-4 p-4 bg-white rounded shadow mb-4 mt-[16px]",x.value==="admin"?"md:ml-[185px]":"md:ml-[58px]"])},[(l(),o($,null,E(b,t=>e("label",{key:t,class:"inline-flex items-center space-x-2"},[D(e("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=v=>d.value=v),value:t,class:"h-4 w-4 text-mcclightblue focus:ring-[0%]",onChange:i},null,40,ot),[[ce,d.value]]),e("span",nt,r(t),1)])),64))],2),e("div",at,[D(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>g.value=t),onInput:Z,type:"text",placeholder:"Search classes...",class:"border px-3 py-1 rounded w-full md:w-64"},null,544),[[P,g.value]]),x.value==="admin"?(l(),O(be,{key:0,editMode:p.value,classToEdit:a.value,onSubmitted:oe,onCancelEdit:le,class:"w-[160px] md:w-auto"},null,8,["editMode","classToEdit"])):S("",!0)])]),e("div",rt,[e("div",it,[x.value==="admin"?(l(),o("table",ct,[e("thead",dt,[e("tr",null,[(l(),o($,null,E(F,t=>e("th",{key:t.key,class:"px-2 sm:px-4 py-2 text-center cursor-pointer select-none",onClick:v=>ee(t.key)},[T(r(t.label)+" ",1),n.value.find(v=>v.key===t.key)?(l(),o("span",pt,r(n.value.find(v=>v.key===t.key).direction==="asc"?"▲":"▼"),1)):S("",!0)],8,ut)),64)),s[8]||(s[8]=e("th",{class:"px-2 sm:px-4 py-2 text-center select-none"},"Actions",-1))])]),e("tbody",null,[(l(!0),o($,null,E(N.value,t=>(l(),o("tr",{key:t.id,class:"hover:bg-gray-100 cursor-pointer",onDblclick:v=>A(t)},[e("td",mt,r(t.name),1),e("td",vt,r(t.course),1),e("td",bt,r(t.year),1),e("td",yt,r(t.section),1),e("td",ft,[e("button",{class:"text-green-600 select-none hover:underline",onClick:J(v=>A(t),["stop"])},"View",8,ht),e("button",{class:"text-blue-600 select-none hover:underline",onClick:v=>H(t)},"Edit",8,gt),e("button",{class:"text-red-600 select-none hover:underline",onClick:v=>h(t.id)},"Delete",8,wt)])],40,xt))),128)),N.value.length===0?(l(),o("tr",_t,s[9]||(s[9]=[e("td",{colspan:"5",class:"text-center py-4"},"No classes found.",-1)]))):S("",!0)])])):x.value==="registrar"?(l(),o("table",kt,[e("thead",Ct,[e("tr",null,[(l(),o($,null,E(F,t=>e("th",{key:t.key,class:"px-2 sm:px-4 py-2 text-center cursor-pointer select-none",onClick:v=>ee(t.key)},[T(r(t.label)+" ",1),n.value.find(v=>v.key===t.key)?(l(),o("span",St,r(n.value.find(v=>v.key===t.key).direction==="asc"?"▲":"▼"),1)):S("",!0)],8,$t)),64)),s[10]||(s[10]=e("th",{class:"px-2 sm:px-4 py-2 text-center select-none"},"Actions",-1))])]),e("tbody",null,[(l(!0),o($,null,E(N.value,t=>(l(),o("tr",{key:t.id,class:"hover:bg-gray-100 cursor-pointer",onDblclick:v=>c.openSubtView(t)},[e("td",Bt,r(t.name),1),e("td",jt,r(t.course),1),e("td",Mt,r(t.year),1),e("td",Vt,r(t.section),1),e("td",Dt,[e("button",{class:"text-green-600 select-none hover:underline",onClick:J(v=>ne(t),["stop"])},"View Subjects",8,Nt)])],40,Et))),128)),N.value.length===0?(l(),o("tr",Tt,s[11]||(s[11]=[e("td",{colspan:"5",class:"text-center py-4"},"No classes found.",-1)]))):S("",!0)])])):S("",!0),e("div",At,[e("div",Ft,[s[12]||(s[12]=T(" Showing ")),e("span",Lt,r(N.value.length?(y.value-1)*f.value+1:0),1),s[13]||(s[13]=T(" to ")),e("span",Ut,r((y.value-1)*f.value+N.value.length),1),s[14]||(s[14]=T(" of ")),e("span",Pt,r(I.value.length),1),s[15]||(s[15]=T(" entries "))]),e("div",Yt,[e("button",{onClick:s[3]||(s[3]=t=>n.value=[]),class:"text-xs sm:text-sm text-white mr-2 border-0 rounded hover:bg-mccblue transition"},"Clear Sorting"),e("button",{onClick:s[4]||(s[4]=t=>y.value--),disabled:y.value===1,class:"px-2 sm:px-3 py-1 border-0 rounded disabled:opacity-50 disabled:hover:bg-mcclightblue hover:bg-mccblue transition"},"Prev",8,zt),(l(!0),o($,null,E(X.value,t=>(l(),o("button",{key:t,onClick:v=>y.value=t,class:se(["px-2 sm:px-3 py-1 border-0 rounded",y.value===t?"bg-white text-mccblue font-bold":"hover:bg-mccblue transition"])},r(t),11,Ot))),128)),e("button",{onClick:s[5]||(s[5]=t=>y.value++),disabled:y.value===X.value,class:"px-2 sm:px-3 py-1 border-0 rounded disabled:opacity-50 disabled:hover:bg-mcclightblue hover:bg-mccblue transition"},"Next",8,qt)])])])])])):(l(),o("div",Gt," Unknown user level: "+r(x.value),1))]),_:1},8,["fullname","userLevel"]),L(Ze,{visible:K.value,selectedClass:V.value,onClose:ae},null,8,["visible","selectedClass"]),L(Ue,{visible:w.value,selectedClass:V.value,onClose:q,onUpdated:G},null,8,["visible","selectedClass"])],64))}};export{Qt as default};
