import{q as g,r as x,g as d,d as c,e as t,p as b,s as h,f as u,j as y,i as v,y as k,k as C,a as P}from"./app-BzR5gmBy.js";import{S as n}from"./sweetalert2.esm.all-BQIkj5Wb.js";const M={class:"min-h-screen flex flex-col md:flex-row bg-mcc-gradient bg-[length:100%_200%] animate-bg-pan text-gray-800"},U={class:"flex w-full mx-auto md:flex-row flex-col items-center justify-between gap-x-10 md:px-20"},_={class:"w-full md:w-1/2 flex items-center justify-center py-8 animate-slide-in-top"},S={class:"w-[90%] md:max-w-sm bg-white p-6 rounded-lg shadow-xl border border-gray-200"},j={class:"relative"},B={class:"relative"},N=["type"],I={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},V={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},A={__name:"Login copy",setup(L){const s=g({Username:"",Password:"",remember:!1}),l=x(!1);function m(){l.value=!l.value}function p(){}async function f(){var r,e;if(!s.Username||!s.Password)return n.fire({icon:"error",title:"Oops...",text:"Please fill in both Username and Password."});try{const o=await P.post("/custom-login",s);console.log("Session data:",o.data);const a=o.data.fullname||"User";n.fire({icon:"success",title:"Login Successful!",text:"Welcome, "+a+"!",timer:1800,showConfirmButton:!1}).then(()=>{window.location.href=o.data.redirect})}catch(o){const a=(r=o.response)==null?void 0:r.status,i=(e=o.response)==null?void 0:e.data;a===404&&i.error==="not_found"?n.fire("User Not Found","No account with that Username.","error"):a===401&&i.error==="wrong_password"?n.fire("Incorrect Password",`Wrong password. ${i.attempts} attempt(s) remaining.`,"error"):a===429&&i.error==="locked"?w():n.fire("Login Failed","Something went wrong. Please try again.","error")}}function w(){let r=60;n.fire({title:"Too Many Attempts",html:`Try again in <b>${r}</b> seconds.`,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{const e=n.getHtmlContainer().querySelector("b"),o=setInterval(()=>{r--,e.textContent=r,r<=0&&(clearInterval(o),location.reload())},1e3)}})}return(r,e)=>(c(),d("div",M,[t("div",U,[e[8]||(e[8]=t("div",{class:"flex flex-col justify-center items-center md:w-1/2 px-6 py-10 md:-mt-20 animate-slide-in-top"},[t("div",{class:"w-full max-w-md text-center"},[t("img",{src:"/logo.png",alt:"Logo",class:"h-52 select-none md:h-80 mb-[-70px] md:mb-[-35px] mx-auto"}),t("p",{class:"hidden md:block text-lg md:text-xl text-mccmidnightblue mt-0"}," Monitor your grades in real-time with MCCâ€™s official grading and info system. ")])],-1)),t("div",_,[t("div",S,[t("form",{onSubmit:b(f,["prevent"]),class:"space-y-4"},[t("div",j,[u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.Username=o),type:"text",id:"username",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:""},null,512),[[y,s.Username]]),e[2]||(e[2]=t("label",{for:"username",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Username ",-1))]),t("div",B,[u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.Password=o),type:l.value?"text":"password",id:"password",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:"",onInput:p},null,40,N),[[k,s.Password]]),e[5]||(e[5]=t("label",{for:"password",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Password ",-1)),s.Password?(c(),d("button",{key:0,type:"button",onClick:m,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-mccblue transition"},[l.value?(c(),d("svg",V,e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.036 10.036 0 013.262-4.572M9.88 9.88a3 3 0 104.24 4.24M6.1 6.1l11.8 11.8"},null,-1)]))):(c(),d("svg",I,e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.522 5 12 5c4.478 0 8.268 2.943 9.542 7-.728 2.314-2.254 4.33-4.293 5.657M15 12a3 3 0 01-6 0"},null,-1)])))])):v("",!0)]),e[6]||(e[6]=h('<button type="submit" class="w-full select-none bg-mccblue hover:bg-mccdarkblue text-white font-semibold py-2 rounded-md transition duration-200"> Log In </button><div class="text-center"><a href="#" class="text-mccblue hover:underline text-sm transition">Forgot Password?</a></div><hr class="border-gray-300 my-4"><button type="button" class="w-full select-none bg-mccblue hover:bg-mccdarkblue text-white font-semibold py-2 rounded-md transition duration-200"> Create New Account </button>',4))],32),e[7]||(e[7]=t("p",{class:"text-sm text-center text-gray-500 mt-6"},[t("a",{href:"#",class:"font-medium text-mccblue hover:underline transition"},"Create a Page"),C(" for a college department, teacher, or class. ")],-1))])])])]))}};export{A as default};
