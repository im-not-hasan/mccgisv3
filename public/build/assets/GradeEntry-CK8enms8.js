import{r as p,c as oe,N as Oe,L as qe,o as $e,g as i,d as c,e as t,t as n,u as ce,i as y,k as be,F as f,h as z,n as d,f as g,j as v,a as D}from"./app-CfppQT4P.js";import{S as I}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";const je={class:"p-6 bg-whitebg"},Ye={class:"grid grid-cols-3 gap-6 mb-6"},Ze={class:"bg-blue-100 text-mcclightblue rounded-md p-4 shadow-md flex flex-col justify-between"},Ke={class:"text-xl text-mccblue font-bold"},Je={class:"bg-blue-100 text-mcclightblue rounded-md p-4 shadow-md flex flex-col justify-between"},Xe={class:"text-xl text-mccblue font-bold"},We={class:"text-md font-bold"},et={class:"bg-blue-100 text-mcclightblue rounded-md p-4 shadow-md flex flex-col justify-between"},tt={class:"text-xl text-mccblue font-bold"},rt={class:"text-md font-bold"},ot={key:0,class:"min-w-full border-collapse text-xs"},at=["colspan"],lt=["disabled"],st=["colspan"],nt=["disabled"],dt=["onUpdate:modelValue","disabled"],ut={class:"border p-1 bg-gray-300 text-center font-semibold sticky top-8 z-30"},it=["onUpdate:modelValue","disabled"],ct={class:"border p-1 bg-gray-300 text-center font-semibold sticky top-8 z-30"},bt=["disabled"],pt=["disabled"],mt=["disabled"],gt={class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},vt={key:0},yt=["colspan"],xt={class:"border-none p-1 text-center bg-white"},ft={class:"border-none p-1 sticky left-0 bg-white z-40 w-36"},zt={class:"border-none p-1 sticky left-20 bg-white z-40 w-3"},kt={class:"border-none p-1 sticky left-40 bg-white z-40 w-36"},ht=["onUpdate:modelValue","max","disabled"],wt={class:"border p-1 text-center font-semibold bg-gray-200"},_t={class:"border p-1 text-center font-semibold bg-gray-200"},qt={class:"border p-1 text-center font-semibold bg-gray-200"},Et=["onUpdate:modelValue","disabled"],Ft={class:"border p-1 text-center font-semibold bg-gray-200"},Ct={class:"border p-1 text-center font-semibold bg-gray-200"},At={class:"border p-1 text-center font-semibold bg-gray-200"},Nt=["onUpdate:modelValue","max","disabled"],St={class:"border p-1 text-center font-semibold bg-gray-200"},Ut={class:"border p-1 text-center font-semibold bg-gray-200"},Vt=["onUpdate:modelValue","max","disabled"],Gt=["onUpdate:modelValue","max","disabled"],Rt={class:"border p-1 text-center font-semibold bg-gray-200"},It={class:"border p-1 text-center font-semibold bg-gray-200"},Mt={class:"border p-1 text-center font-semibold bg-gray-200"},Tt={class:"border p-1 text-center font-semibold bg-gray-200"},Qt={class:"border p-1 text-center font-semibold bg-gray-200"},Lt={key:1,class:"min-w-full border-collapse text-xs"},Pt=["colspan"],Dt=["disabled"],Bt=["colspan"],Ot=["disabled"],$t=["onUpdate:modelValue","disabled"],Ht={class:"border p-1 bg-gray-300 text-center font-semibold sticky top-8 z-30"},jt=["onUpdate:modelValue","disabled"],Yt={class:"border p-1 bg-gray-300 text-center font-semibold sticky top-8 z-30"},Zt=["disabled"],Kt=["disabled"],Jt={key:0},Xt=["colspan"],Wt={class:"border-none p-1 text-center bg-white"},er={class:"border-none p-1 sticky left-0 bg-white z-40 w-36"},tr={class:"border-none p-1 sticky left-20 bg-white z-40 w-36"},rr={class:"border-none p-1 sticky left-40 bg-white z-40 w-36"},or=["onUpdate:modelValue","max","disabled"],ar={class:"border p-1 text-center font-semibold bg-gray-200"},lr={class:"border p-1 text-center font-semibold bg-gray-200"},sr={class:"border p-1 text-center font-semibold bg-gray-200"},nr=["onUpdate:modelValue","max","disabled"],dr={class:"border p-1 text-center font-semibold bg-gray-200"},ur={class:"border p-1 text-center font-semibold bg-gray-200"},ir={class:"border p-1 text-center font-semibold bg-gray-200"},cr=["onUpdate:modelValue","max","disabled"],br={class:"border p-1 text-center font-semibold bg-gray-200"},pr={class:"border p-1 text-center font-semibold bg-gray-200"},mr=["onUpdate:modelValue","max","disabled"],gr={class:"border p-1 text-center font-semibold bg-gray-200"},vr={class:"border p-1 text-center font-semibold bg-gray-200"},yr={class:"border p-1 text-center font-semibold bg-gray-200"},xr={class:"border p-1 text-center font-semibold bg-gray-200"},fr={class:"border p-1 text-center font-semibold bg-gray-200"},zr={class:"border p-1 text-center font-semibold bg-gray-200"},kr={class:"border p-1 text-center font-semibold bg-gray-200"},hr={class:"mt-4 text-right absolute bottom-2 right-2"},wr=["disabled"],_r=["disabled"],qr=["disabled"],Er=["disabled"],Fr={class:"absolute bottom-2 left-2 flex space-x-2"},Cr={__name:"GradeEntry",setup(Ar){const M=p("midterm"),a=p(!1),ze=oe(()=>4+(_.value+3)+(q.value+3)+3+5+3),{url:Ee}=Oe(),ne=new URLSearchParams(Ee.split("?")[1]),B=ne.get("subject")||"",O=ne.get("course")||"",$=ne.get("year")||"",H=ne.get("section")||"",k=p(!0),_=p(5),q=p(10),F=p(Array(_.value).fill(0)),G=p(Array(q.value).fill(0)),T=p(100),j=p(100),Y=p(100),E=p([]),pe=oe(()=>F.value.reduce((r,e)=>r+(Number(e)||0),0)),me=oe(()=>G.value.reduce((r,e)=>r+(Number(e)||0),0)),ge=oe(()=>(Number(j.value)||0)+(Number(Y.value)||0)),C=p(5),A=p(10),N=p([]),S=p(Array(C.value).fill(0)),U=p(Array(A.value).fill(0)),Q=p(100),L=p(100),ve=oe(()=>S.value.reduce((r,e)=>r+(Number(e)||0),0)),ye=oe(()=>U.value.reduce((r,e)=>r+(Number(e)||0),0)),Fe=()=>{_.value++,F.value.push(0),E.value.forEach(r=>{r.quizzes.push("")})},Ce=()=>{q.value++,G.value.push(0),E.value.forEach(r=>{r.attendance.push("")})},Ae=()=>{_.value>1&&(_.value--,F.value.pop(),E.value.forEach(r=>{r.quizzes.pop()}))},Ne=()=>{q.value>1&&(q.value--,G.value.pop(),E.value.forEach(r=>{r.attendance.pop()}))};function ae(r){for(const e in r)if(Array.isArray(r[e]))r[e]=r[e].map(o=>{if(o===""||o===null)return o;const s=Number(o);return Number.isInteger(s)?parseInt(s):s});else if(typeof r[e]=="object"&&r[e]!==null)ae(r[e]);else if(r[e]!==""&&r[e]!==null){const o=Number(r[e]);isNaN(o)||(r[e]=Number.isInteger(o)?parseInt(o):o)}}const Se=()=>{C.value++,S.value.push(0),N.value.forEach(r=>{r.quizzes.push("")})},Ue=()=>{A.value++,U.value.push(0),N.value.forEach(r=>{r.attendance.push("")})},Ve=()=>{C.value>1&&(C.value--,S.value.pop(),N.value.forEach(r=>{r.quizzes.pop()}))},Ge=()=>{A.value>1&&(A.value--,U.value.pop(),N.value.forEach(r=>{r.attendance.pop()}))},Re=async()=>{var r,e,o,s,l,u,b,K;try{const m=await D.get("/session?source=gradeentry");if(de.value=m.data.fullname,ee.value=m.data.level,R.value=m.data.username,!de.value||!ee.value||ee.value!=="teacher"){window.location.href="/";return}}catch{window.location.href="/";return}try{k.value=!0;const m=`/grades/${encodeURIComponent(B)}/${encodeURIComponent(O)}/${encodeURIComponent($)}/${encodeURIComponent(H)}`;console.log(`Fetching grades from: ${m}?teacher_username=${R.value}&ay_id=${w.value.id}`);const ue=await D.get(m,{params:{teacher_username:R.value,ay_id:w.value.id}});a.value=!!ue.data.submitted;const x=ue.data;ae(x.gradesData),ae(x.gradeComponents),_.value=x.quizCount??5,q.value=x.attendanceCount??10;const te=((r=x.gradeComponents)==null?void 0:r.quiz)||{};F.value=Array(_.value).fill(0).map((J,h)=>te[h+1]??0);const V=((e=x.gradeComponents)==null?void 0:e.attendance)||{};G.value=Array(q.value).fill(0).map((J,h)=>V[h+1]??0),T.value=((s=(o=x.gradeComponents)==null?void 0:o.performance)==null?void 0:s[1])??0,j.value=((u=(l=x.gradeComponents)==null?void 0:l.exam)==null?void 0:u[1])??0,Y.value=((K=(b=x.gradeComponents)==null?void 0:b.exam)==null?void 0:K[2])??0,E.value=x.students.map(J=>{var re,P,we,_e;const h=((re=x.gradesData)==null?void 0:re[J.studid])||{quizzes:[],attendance:[],performance:"",exams:[]},X=((P=x.summaryGrades)==null?void 0:P[J.studid])||{},ie=Array(_.value).fill("").map((Be,le)=>{var se;return((se=h.quizzes)==null?void 0:se[le])!==void 0?h.quizzes[le]:""}),fe=Array(q.value).fill("").map((Be,le)=>{var se;return((se=h.attendance)==null?void 0:se[le])!==void 0?h.attendance[le]:""});return{...J,quizzes:ie,attendance:fe,performance:h.performance??"",prelimScore:((we=h.exams)==null?void 0:we[0])??"",midtermScore:((_e=h.exams)==null?void 0:_e[1])??"",midterm:X.midterm??"",final:X.final??"",overall:X.overall??"",submitted:X.submitted??0,totals:{quiz:0,attendance:0,exam:0},equivs:{quiz:0,attendance:0,performance:0,exam:0},percents:{quiz:0,attendance:0,performance:0,exam:0},midtermGrade:0,equivalent:0,remarks:""}})}catch(m){console.error("Failed to fetch grades:",m)}finally{k.value=!1}},Ie=async()=>{var r,e,o,s,l,u;try{const b=await D.get("/session?source=gradeentry");if(de.value=b.data.fullname,ee.value=b.data.level,R.value=b.data.username,!de.value||!ee.value||ee.value!=="teacher"){window.location.href="/";return}}catch{window.location.href="/";return}try{k.value=!0;const b=`/finalgrades/${encodeURIComponent(B)}/${encodeURIComponent(O)}/${encodeURIComponent($)}/${encodeURIComponent(H)}`;console.log(`Fetching FINAL grades from: ${b}?teacher_username=${R.value}&ay_id=${w.value.id}`);const m=(await D.get(b,{params:{teacher_username:R.value,ay_id:w.value.id}})).data;ae(m.gradesData),ae(m.gradeComponents),C.value=m.quizCount??5,A.value=m.attendanceCount??10;const ue=((r=m.gradeComponents)==null?void 0:r.quiz)||{};S.value=Array(C.value).fill(0).map((te,V)=>ue[V+1]??0);const x=((e=m.gradeComponents)==null?void 0:e.attendance)||{};U.value=Array(A.value).fill(0).map((te,V)=>x[V+1]??0),Q.value=((s=(o=m.gradeComponents)==null?void 0:o.performance)==null?void 0:s[1])??0,L.value=((u=(l=m.gradeComponents)==null?void 0:l.exam)==null?void 0:u[1])??0,N.value=m.students.map(te=>{var X,ie;const V=((X=m.gradesData)==null?void 0:X[te.studid])||{quizzes:[],attendance:[],performance:"",exams:[]},J=Array(C.value).fill("").map((fe,re)=>{var P;return((P=V.quizzes)==null?void 0:P[re])??""}),h=Array(A.value).fill("").map((fe,re)=>{var P;return((P=V.attendance)==null?void 0:P[re])??""});return{...te,quizzes:J,attendance:h,performance:V.performance??"",finalExam:((ie=V.exams)==null?void 0:ie[0])??"",totals:{quiz:0,attendance:0,exam:0},equivs:{quiz:0,attendance:0,performance:0,exam:0},percents:{quiz:0,attendance:0,performance:0,exam:0},finalGrade:0,equivalent:0,remarks:"Failed"}})}catch(b){console.error("Failed to fetch final grades:",b)}finally{k.value=!1}};function Z(r){const e=E.value.find(o=>o.studid===r);return e&&e.midtermGrade||0}function W(r){return r>94.45?1:r>93.45?1.1:r>92.45?1.2:r>91.45?1.3:r>90.45?1.4:r>89.45?1.5:r>88.45?1.6:r>87.45?1.7:r>86.45?1.8:r>85.45?1.9:r>84.45?2:r>83.45?2.1:r>82.45?2.2:r>81.45?2.3:r>80.45?2.4:r>79.45?2.5:r>78.45?2.6:r>77.45?2.7:r>76.45?2.8:r>75.45?2.9:r>74.45?3:r>73.45?3.1:r>72.45?3.2:r>71.45?3.3:r>70.45?3.4:(r>69.45,3.5)}const Me=()=>{E.value.forEach(r=>{const e=r.quizzes.reduce((b,K)=>b+(Number(K)||0),0);r.totals.quiz=e,r.equivs.quiz=pe.value?e*40/pe.value+60:0,r.percents.quiz=r.equivs.quiz*.3;const o=r.attendance.reduce((b,K)=>b+(Number(K)||0),0);r.totals.attendance=o,r.equivs.attendance=me.value?o*100/me.value:0,r.percents.attendance=r.equivs.attendance*.15,r.totals.performance=Number(r.performance)||0,r.equivs.performance=T.value?r.totals.performance*50/T.value+50:0,r.percents.performance=r.equivs.performance*.15;const s=Number(r.prelimScore)||0,l=Number(r.midtermScore)||0,u=s+l;r.totals.exam=u,r.equivs.exam=ge.value?u*40/ge.value+60:0,r.percents.exam=r.equivs.exam*.4,r.midtermGrade=(r.percents.quiz||0)+(r.percents.attendance||0)+(r.percents.performance||0)+(r.percents.exam||0),r.equivalent=Number(W(r.midtermGrade).toFixed(1)),r.remarks=r.midtermGrade>=75?"Passed":"Failed"})},Te=()=>{N.value.forEach(r=>{const e=r.quizzes.reduce((l,u)=>l+(Number(u)||0),0);r.totals.quiz=e,r.equivs.quiz=ve.value?e*40/ve.value+60:0,r.percents.quiz=r.equivs.quiz*.3;const o=r.attendance.reduce((l,u)=>l+(Number(u)||0),0);r.totals.attendance=o,r.equivs.attendance=ye.value?o*100/ye.value:0,r.percents.attendance=r.equivs.attendance*.15,r.totals.performance=Number(r.performance)||0,r.equivs.performance=Q.value?r.totals.performance*50/Q.value+50:0,r.percents.performance=r.equivs.performance*.15;const s=Number(r.finalExam)||0;r.totals.exam=s,r.equivs.exam=L.value?s*40/L.value+60:0,r.percents.exam=r.equivs.exam*.4,r.finalGrade=(r.percents.quiz||0)+(r.percents.attendance||0)+(r.percents.performance||0)+(r.percents.exam||0),r.equivalent=Number(W(r.finalGrade).toFixed(1)),r.remarks=r.finalGrade>=75?"Passed":"Failed"})};qe([E,F,G,T,j,Y],Me,{deep:!0,immediate:!0}),qe([N,S,U,Q,L],Te,{deep:!0,immediate:!0});const Qe=async()=>{if((await I.fire({title:"Submit Grades?",html:`
      <p class="text-sm text-gray-700">
        Once submitted, <b>grades cannot be edited or modified</b>.<br>
        Are you sure you want to finalize and submit all grades for this class?
      </p>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Cancel",confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",reverseButtons:!0})).isConfirmed)try{await D.post("/grades/submit",{teacher_username:R.value,subject_code:B,course:O,year:$,section:H,ay_id:w.value.id}),a.value=!0,await I.fire({icon:"success",title:"Grades Submitted!",text:"All grades have been marked as submitted and are now locked.",confirmButtonColor:"#2563eb"})}catch(e){console.error(e),I.fire({icon:"error",title:"Submission Failed!",text:"An error occurred while submitting grades. Please try again later.",confirmButtonColor:"#ef4444"})}finally{k.value=!1}},ke=async()=>{try{const r=[];F.value.forEach((l,u)=>{r.push({component_type:"quiz",component_index:u+1,hps:Number(l)||0})}),G.value.forEach((l,u)=>{r.push({component_type:"attendance",component_index:u+1,hps:Number(l)||0})}),r.push({component_type:"performance",component_index:1,hps:Number(T.value)||0}),r.push({component_type:"exam",component_index:1,hps:Number(j.value)||0}),r.push({component_type:"exam",component_index:2,hps:Number(Y.value)||0});const e=[];E.value.forEach(l=>{l.quizzes.forEach((u,b)=>{e.push({student_id:l.studid,component_type:"quiz",component_index:b+1,score:u})}),l.attendance.forEach((u,b)=>{e.push({student_id:l.studid,component_type:"attendance",component_index:b+1,score:u})}),e.push({student_id:l.studid,component_type:"performance",component_index:1,score:l.performance}),e.push({student_id:l.studid,component_type:"exam",component_index:1,score:l.prelimScore}),e.push({student_id:l.studid,component_type:"exam",component_index:2,score:l.midtermScore})});const o=E.value.map(l=>({student_id:l.studid,midterm:Number(l.equivalent)||0}));await D.post("/grades/save",{teacher_username:R.value,subject_code:B,course:O,year:$,section:H,ay_id:w.value.id,gradeComponents:r,gradesData:e,gradesSummary:o}),await I.fire({icon:"success",title:"Midterm Grades Saved!",text:"All midterm grades were successfully saved.",confirmButtonColor:"#2563eb"})}catch(r){console.error("Failed to save grades:",r),I.fire({icon:"error",title:"Failed to Save!",text:"There was an error saving midterm grades. Please try again.",confirmButtonColor:"#ef4444"})}},he=async()=>{try{const r=[];S.value.forEach((s,l)=>{r.push({component_type:"quiz",component_index:l+1,hps:Number(s)||0})}),U.value.forEach((s,l)=>{r.push({component_type:"attendance",component_index:l+1,hps:Number(s)||0})}),r.push({component_type:"performance",component_index:1,hps:Number(Q.value)||0}),r.push({component_type:"exam",component_index:1,hps:Number(L.value)||0});const e=[];N.value.forEach(s=>{s.quizzes.forEach((l,u)=>{e.push({student_id:s.studid,component_type:"quiz",component_index:u+1,score:l})}),s.attendance.forEach((l,u)=>{e.push({student_id:s.studid,component_type:"attendance",component_index:u+1,score:l})}),e.push({student_id:s.studid,component_type:"performance",component_index:1,score:s.performance}),e.push({student_id:s.studid,component_type:"exam",component_index:1,score:s.finalExam})});const o=N.value.map(s=>{const l=Z(s.studid),u=W(Number(s.finalGrade))||0,b=(W(l)*.3+u*.7).toFixed(2);return{student_id:s.studid,final:u,overall:b}});await D.post("/finalgrades/save",{teacher_username:R.value,subject_code:B,course:O,year:$,section:H,ay_id:w.value.id,gradeComponents:r,gradesData:e,gradesSummary:o,term:"final"}),await I.fire({icon:"success",title:"Final Grades Saved!",text:"All final grades were successfully saved.",confirmButtonColor:"#2563eb"})}catch(r){console.error("Failed to save final grades:",r),I.fire({icon:"error",title:"Save Failed!",text:"There was an error saving final grades. Please try again.",confirmButtonColor:"#ef4444"})}},Le=async()=>{try{await Promise.all([ke(),he()]),await I.fire({icon:"success",title:"All Grades Saved!",text:"Both Midterm and Final Grades were successfully saved.",confirmButtonColor:"#2563eb"})}catch(r){console.error("Failed to save both grade sets:",r),I.fire({icon:"error",title:"Save Failed!",text:"Something went wrong while saving both grade sets.",confirmButtonColor:"#ef4444"})}finally{k.value=!1}},xe=p(null);function Pe(){xe.value&&(document.fullscreenElement?document.exitFullscreen():xe.value.requestFullscreen().catch(r=>{console.error(`Error attempting fullscreen: ${r.message}`)}))}const w=p({id:null,academicyear:"",semester:""}),de=p(""),ee=p(""),R=p(""),De=async()=>{try{const r=await D.get("/api/active-ay");r.data&&(w.value=r.data)}catch(r){console.error("Failed to fetch active academic year",r)}};return $e(()=>{De(),B&&O&&$&&H?(Re(),Ie()):k.value=!1}),(r,e)=>(c(),i("div",je,[t("div",Ye,[t("div",Ze,[t("div",Ke,"Subject Code: "+n(ce(B)),1),e[7]||(e[7]=t("div",{class:"text-md font-bold"},null,-1))]),t("div",Je,[t("div",Xe,"Course & Year: "+n(ce(O))+" - "+n(ce($)),1),t("div",We,"Section: "+n(ce(H)),1)]),t("div",et,[t("div",tt," Semester: "+n(w.value.semester==="1"?"First Semester":w.value.semester==="2"?"Second Semester":w.value.semester==="3"?"Summer":"Loading..."),1),t("div",rt,"Academic Year: "+n(w.value.academicyear),1)])]),t("div",{class:"overflow-auto border rounded-lg max-h-[535px]",ref_key:"gradesTable",ref:xe},[M.value==="midterm"?(c(),i("table",ot,[t("thead",null,[t("tr",null,[e[10]||(e[10]=t("th",{rowspan:"3",class:"bg-gray-300 border p-2"},"No.",-1)),e[11]||(e[11]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-0 top-0 z-40 w-36"},"LASTNAME",-1)),e[12]||(e[12]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-20 top-0 z-40 w-36"},"FIRSTNAME",-1)),e[13]||(e[13]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-40 top-0 z-40 w-36"},"MIDDLENAME",-1)),t("th",{colspan:_.value+3,class:"bg-gray-300 border p-2"},[e[8]||(e[8]=be(" QUIZZES ")),a.value?y("",!0):(c(),i("button",{key:0,onClick:Fe,class:"ml-2 bg-green-500 text-white px-2 py-0.5 rounded text-xs",title:"Add Quiz Column"}," + ")),a.value?y("",!0):(c(),i("button",{key:1,onClick:Ae,class:"ml-1 bg-red-500 text-white px-2 py-0.5 rounded text-xs",title:"Remove Quiz Column",disabled:_.value<=1}," - ",8,lt))],8,at),t("th",{colspan:q.value+3,class:"bg-gray-300 border p-2"},[e[9]||(e[9]=be(" ATTENDANCE ")),a.value?y("",!0):(c(),i("button",{key:0,onClick:Ce,class:"ml-2 bg-green-500 text-white px-2 py-0.5 rounded text-xs",title:"Add Attendance Column"}," + ")),a.value?y("",!0):(c(),i("button",{key:1,onClick:Ne,class:"ml-1 bg-red-500 text-white px-2 py-0.5 rounded text-xs",title:"Remove Attendance Column",disabled:q.value<=1}," - ",8,nt))],8,st),e[14]||(e[14]=t("th",{colspan:"3",class:"bg-gray-300 border p-2"},"PERFORMANCE",-1)),e[15]||(e[15]=t("th",{colspan:"5",class:"bg-gray-300 border p-2"},"MAJOR EXAM",-1)),e[16]||(e[16]=t("th",{colspan:"3",class:"bg-gray-300 border p-2"},"PRELIM",-1))]),t("tr",null,[(c(!0),i(f,null,z(_.value,o=>(c(),i("th",{key:"q-label-"+o,class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])}," Q"+n(o),3))),128)),e[17]||(e[17]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"TOTAL",-1)),e[18]||(e[18]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[19]||(e[19]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"30%",-1)),(c(!0),i(f,null,z(q.value,o=>(c(),i("th",{key:"a-label-"+o,class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])}," A"+n(o),3))),128)),e[20]||(e[20]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"TOTAL",-1)),e[21]||(e[21]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[22]||(e[22]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"15%",-1)),t("th",{class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"100",2),e[23]||(e[23]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[24]||(e[24]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"15%",-1)),t("th",{class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"PRELIM SCORE",2),t("th",{class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"MIDTERM SCORE",2),e[25]||(e[25]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"TOTAL",-1)),e[26]||(e[26]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[27]||(e[27]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"40%",-1)),e[28]||(e[28]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"MIDTERM GRADE",-1)),e[29]||(e[29]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIVALENT",-1)),e[30]||(e[30]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"REMARKS",-1))]),t("tr",null,[(c(!0),i(f,null,z(F.value,(o,s)=>(c(),i("td",{key:"hps-quiz-"+s,class:d(["border p-1 bg-blue-200 sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>F.value[s]=l,type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,dt),[[v,F.value[s],void 0,{number:!0}]])],2))),128)),t("td",ut,n(pe.value.toFixed(0)),1),e[31]||(e[31]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[32]||(e[32]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"30",-1)),(c(!0),i(f,null,z(G.value,(o,s)=>(c(),i("td",{key:"hps-attendance-"+s,class:d(["border p-1 bg-blue-200 sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>G.value[s]=l,type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,it),[[v,G.value[s],void 0,{number:!0}]])],2))),128)),t("td",ct,n(me.value.toFixed(0)),1),e[33]||(e[33]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[34]||(e[34]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"15",-1)),t("td",{class:d(["border p-1 bg-blue-200 text-center sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>T.value=o),type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,bt),[[v,T.value,void 0,{number:!0}]])],2),e[35]||(e[35]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[36]||(e[36]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"15",-1)),t("td",{class:d(["border p-1 bg-blue-200 text-center sticky top-8 z-30",{"bg-gray-300 ":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>j.value=o),type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,pt),[[v,j.value,void 0,{number:!0}]])],2),t("td",{class:d(["border p-1 bg-blue-200 text-center sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>Y.value=o),type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 sticky top-8 z-30 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,mt),[[v,Y.value,void 0,{number:!0}]])],2),t("td",gt,n(ge.value.toFixed(0)),1),e[37]||(e[37]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[38]||(e[38]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"40",-1)),e[39]||(e[39]=t("td",{colspan:"2",class:"border p-1 bg-gray-300 sticky top-8 z-30"},null,-1)),e[40]||(e[40]=t("td",{colspan:"1",class:"border p-1 bg-gray-300 sticky top-8 z-30"},null,-1))])]),t("tbody",null,[k.value?(c(),i("tr",vt,[t("td",{colspan:ze.value,class:"text-center p-4"},"Loading student data...",8,yt)])):y("",!0),(c(!0),i(f,null,z(E.value,(o,s)=>(c(),i("tr",{key:o.id},[t("td",xt,n(s+1),1),t("td",ft,n(o.lname),1),t("td",zt,n(o.fname),1),t("td",kt,n(o.mname),1),(c(!0),i(f,null,z(o.quizzes,(l,u)=>(c(),i("td",{key:"quiz-"+s+"-"+u,class:d(["border p-1",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":b=>o.quizzes[u]=b,type:"number",min:"0",max:F.value[u]||100,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,ht),[[v,o.quizzes[u],void 0,{number:!0}]])],2))),128)),t("td",wt,n(o.totals.quiz.toFixed(0)),1),t("td",_t,n(o.equivs.quiz.toFixed(0)),1),t("td",qt,n(o.percents.quiz.toFixed(0)),1),(c(!0),i(f,null,z(o.attendance,(l,u)=>(c(),i("td",{key:"att-"+s+"-"+u,class:d(["border p-1 bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":b=>o.attendance[u]=b,type:"number",min:"0",max:"1",class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,Et),[[v,o.attendance[u],void 0,{number:!0}]])],2))),128)),t("td",Ft,n(o.totals.attendance.toFixed(0)),1),t("td",Ct,n(o.equivs.attendance.toFixed(0)),1),t("td",At,n(o.percents.attendance.toFixed(0)),1),t("td",{class:d(["border p-1 text-center bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>o.performance=l,type:"number",min:"0",max:T.value,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,Nt),[[v,o.performance,void 0,{number:!0}]])],2),t("td",St,n(o.equivs.performance.toFixed(0)),1),t("td",Ut,n(o.percents.performance.toFixed(0)),1),t("td",{class:d(["border p-1 text-center bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>o.prelimScore=l,type:"number",min:"0",max:j.value,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,Vt),[[v,o.prelimScore,void 0,{number:!0}]])],2),t("td",{class:d(["border p-1 text-center bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>o.midtermScore=l,type:"number",min:"0",max:Y.value,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,Gt),[[v,o.midtermScore,void 0,{number:!0}]])],2),t("td",Rt,n(o.totals.exam.toFixed(0)),1),t("td",It,n(o.equivs.exam.toFixed(0)),1),t("td",Mt,n(o.percents.exam.toFixed(0)),1),t("td",Tt,n(o.midtermGrade.toFixed(0)),1),t("td",Qt,n(o.equivalent.toFixed(1)),1),t("td",{class:d(["border p-1 text-center font-semibold",{"text-green-700 bg-green-100":o.remarks==="Passed","text-red-700 bg-red-100":o.remarks==="Failed"}])},n(o.remarks),3)]))),128))])])):y("",!0),M.value==="finals"?(c(),i("table",Lt,[t("thead",null,[t("tr",null,[e[43]||(e[43]=t("th",{rowspan:"3",class:"bg-gray-300 border p-2"},"No.",-1)),e[44]||(e[44]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-0 top-0 z-40 w-36"},"LASTNAME",-1)),e[45]||(e[45]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-20 top-0 z-40 w-36"},"FIRSTNAME",-1)),e[46]||(e[46]=t("th",{rowspan:"3",class:"bg-gray-300 border-none p-2 sticky left-40 top-0 z-40 w-36"},"MIDDLENAME",-1)),t("th",{colspan:C.value+3,class:"bg-gray-300 border p-2"},[e[41]||(e[41]=be(" QUIZZES ")),a.value?y("",!0):(c(),i("button",{key:0,onClick:Se,class:"ml-2 bg-green-500 text-white px-2 py-0.5 rounded text-xs",title:"Add Quiz Column"},"+")),a.value?y("",!0):(c(),i("button",{key:1,onClick:Ve,class:"ml-1 bg-red-500 text-white px-2 py-0.5 rounded text-xs",title:"Remove Quiz Column",disabled:C.value<=1},"-",8,Dt))],8,Pt),t("th",{colspan:A.value+3,class:"bg-gray-300 border p-2"},[e[42]||(e[42]=be(" ATTENDANCE ")),a.value?y("",!0):(c(),i("button",{key:0,onClick:Ue,class:"ml-2 bg-green-500 text-white px-2 py-0.5 rounded text-xs",title:"Add Attendance Column"},"+")),a.value?y("",!0):(c(),i("button",{key:1,onClick:Ge,class:"ml-1 bg-red-500 text-white px-2 py-0.5 rounded text-xs",title:"Remove Attendance Column",disabled:A.value<=1},"-",8,Ot))],8,Bt),e[47]||(e[47]=t("th",{colspan:"3",class:"bg-gray-300 border p-2"},"PERFORMANCE",-1)),e[48]||(e[48]=t("th",{colspan:"3",class:"bg-gray-300 border p-2"},"MAJOR EXAM",-1)),e[49]||(e[49]=t("th",{colspan:"3",class:"bg-gray-300 border p-2"},"FINAL SUMMARY",-1)),e[50]||(e[50]=t("th",{colspan:"4",class:"bg-gray-300 border p-2"},"MIDTERM REFERENCE",-1))]),t("tr",null,[(c(!0),i(f,null,z(C.value,o=>(c(),i("th",{key:"fq-label-"+o,class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"Q"+n(o),3))),128)),e[51]||(e[51]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"TOTAL",-1)),e[52]||(e[52]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[53]||(e[53]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"30%",-1)),(c(!0),i(f,null,z(A.value,o=>(c(),i("th",{key:"fa-label-"+o,class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"A"+n(o),3))),128)),e[54]||(e[54]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"TOTAL",-1)),e[55]||(e[55]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[56]||(e[56]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"15%",-1)),t("th",{class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"100",2),e[57]||(e[57]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[58]||(e[58]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"15%",-1)),t("th",{class:d(["bg-blue-200 border p-1 text-center sticky top-0 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},"FINAL SCORE",2),e[59]||(e[59]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIV",-1)),e[60]||(e[60]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"40%",-1)),e[61]||(e[61]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"FINAL GRADE",-1)),e[62]||(e[62]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIVALENT",-1)),e[63]||(e[63]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"REMARKS",-1)),e[64]||(e[64]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"MIDTERM GRADE",-1)),e[65]||(e[65]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"FINAL RATING",-1)),e[66]||(e[66]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"EQUIVALENT",-1)),e[67]||(e[67]=t("th",{class:"bg-gray-300 border p-1 text-center sticky top-0 z-30"},"REMARKS",-1))]),t("tr",null,[(c(!0),i(f,null,z(S.value,(o,s)=>(c(),i("td",{key:"fhps-quiz-"+s,class:d(["border p-1 bg-blue-200 sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>S.value[s]=l,type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,$t),[[v,S.value[s],void 0,{number:!0}]])],2))),128)),t("td",Ht,n(ve.value.toFixed(0)),1),e[68]||(e[68]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[69]||(e[69]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"30",-1)),(c(!0),i(f,null,z(U.value,(o,s)=>(c(),i("td",{key:"fhps-att-"+s,class:d(["border p-1 bg-blue-200 sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>U.value[s]=l,type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,jt),[[v,U.value[s],void 0,{number:!0}]])],2))),128)),t("td",Yt,n(ye.value.toFixed(0)),1),e[70]||(e[70]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[71]||(e[71]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"15",-1)),t("td",{class:d(["border p-1 bg-blue-200 text-center sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>Q.value=o),type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,Zt),[[v,Q.value,void 0,{number:!0}]])],2),e[72]||(e[72]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[73]||(e[73]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"15",-1)),t("td",{class:d(["border p-1 bg-blue-200 text-center sticky top-8 z-30",{"bg-gray-300":a.value,"bg-blue-200":!a.value}])},[g(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>L.value=o),type:"number",min:"0",class:d(["w-12 border px-1 text-center bg-blue-200 score-input",{"bg-gray-300 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-200":!a.value}]),disabled:a.value},null,10,Kt),[[v,L.value,void 0,{number:!0}]])],2),e[74]||(e[74]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"100",-1)),e[75]||(e[75]=t("td",{class:"border p-1 bg-gray-300 text-center sticky top-8 z-30"},"40",-1)),e[76]||(e[76]=t("td",{colspan:"7",class:"border p-1 bg-gray-300 sticky top-8 z-30"},null,-1))])]),t("tbody",null,[k.value?(c(),i("tr",Jt,[t("td",{colspan:ze.value,class:"text-center p-4"},"Loading student data...",8,Xt)])):y("",!0),(c(!0),i(f,null,z(N.value,(o,s)=>(c(),i("tr",{key:o.id},[t("td",Wt,n(s+1),1),t("td",er,n(o.lname),1),t("td",tr,n(o.fname),1),t("td",rr,n(o.mname),1),(c(!0),i(f,null,z(o.quizzes,(l,u)=>(c(),i("td",{key:"fquiz-"+s+"-"+u,class:d(["border p-1 bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":b=>o.quizzes[u]=b,type:"number",min:"0",max:S.value[u]||100,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,or),[[v,o.quizzes[u],void 0,{number:!0}]])],2))),128)),t("td",ar,n(o.totals.quiz.toFixed(0)),1),t("td",lr,n(o.equivs.quiz.toFixed(0)),1),t("td",sr,n(o.percents.quiz.toFixed(0)),1),(c(!0),i(f,null,z(o.attendance,(l,u)=>(c(),i("td",{key:"fatt-"+s+"-"+u,class:d(["border p-1 bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":b=>o.attendance[u]=b,type:"number",min:"0",max:U.value[u]||1,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,nr),[[v,o.attendance[u],void 0,{number:!0}]])],2))),128)),t("td",dr,n(o.totals.attendance.toFixed(0)),1),t("td",ur,n(o.equivs.attendance.toFixed(0)),1),t("td",ir,n(o.percents.attendance.toFixed(0)),1),t("td",{class:d(["border p-1 text-center bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>o.performance=l,type:"number",min:"0",max:Q.value,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,cr),[[v,o.performance,void 0,{number:!0}]])],2),t("td",br,n(o.equivs.performance.toFixed(0)),1),t("td",pr,n(o.percents.performance.toFixed(0)),1),t("td",{class:d(["border p-1 text-center bg-blue-100",{"bg-gray-200":a.value,"bg-blue-100":!a.value}])},[g(t("input",{"onUpdate:modelValue":l=>o.finalExam=l,type:"number",min:"0",max:L.value,class:d(["w-12 border px-1 text-center bg-blue-100 score-input",{"bg-gray-200 cursor-not-allowed border-none focus:border-none":a.value,"bg-blue-100":!a.value}]),disabled:a.value},null,10,mr),[[v,o.finalExam,void 0,{number:!0}]])],2),t("td",gr,n(o.equivs.exam.toFixed(0)),1),t("td",vr,n(o.percents.exam.toFixed(0)),1),t("td",yr,n(o.finalGrade.toFixed(0)),1),t("td",xr,n(o.equivalent.toFixed(1)),1),t("td",{class:d(["border p-1 text-center font-semibold bg-gray-200",{"text-green-700 bg-green-100":o.remarks==="Passed","text-red-700 bg-red-100":o.remarks==="Failed"}])},n(o.remarks),3),t("td",fr,n(Z(o.studid).toFixed(0)),1),t("td",zr,n((Z(o.studid)*.3+o.finalGrade*.7).toFixed(0)),1),t("td",kr,n((W(Z(o.studid))*.3+W(o.finalGrade)*.7).toFixed(1)),1),t("td",{class:d(["border p-1 text-center font-semibold bg-gray-200",{"text-green-700 bg-green-100":Z(o.studid)*.3+o.finalGrade*.7>=75,"text-red-700 bg-red-100":Z(o.studid)*.3+o.finalGrade*.7<75}])},n(Z(o.studid)*.3+o.finalGrade*.7>=75?"Passed":"Failed"),3)]))),128))])])):y("",!0)],512),t("div",hr,[a.value?y("",!0):(c(),i("button",{key:0,onClick:ke,disabled:k.value,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded transition mr-3"}," Save Midterm Grades ",8,wr)),a.value?y("",!0):(c(),i("button",{key:1,onClick:he,disabled:k.value,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded transition mr-3"}," Save Final Grades ",8,_r)),a.value?y("",!0):(c(),i("button",{key:2,onClick:Le,disabled:k.value,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded transition mr-3"}," Save All Grades ",8,qr)),a.value?y("",!0):(c(),i("button",{key:3,onClick:Qe,disabled:k.value,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded transition"}," Mark as Submitted ",8,Er))]),t("div",Fr,[t("button",{onClick:e[5]||(e[5]=o=>M.value="midterm"),class:d([{"bg-gray-300 text-black":M.value==="midterm","bg-gray-100 text-gray-600":M.value!=="midterm"},"px-3 py-1 rounded border"])}," Prelim-Midterm ",2),t("button",{onClick:e[6]||(e[6]=o=>M.value="finals"),class:d([{"bg-gray-300 text-black":M.value==="finals","bg-gray-100 text-gray-600":M.value!=="finals"},"px-3 py-1 rounded border"])}," Finals ",2),t("button",{onClick:Pe,class:"fullscreen-btn mr-5 px-2 py-2"}," â›¶ Fullscreen ")])]))}},Vr=He(Cr,[["__scopeId","data-v-be25c012"]]);export{Vr as default};
