import{D as b,g as c,d as i,e as t,H as h,n as y,J as v,q as k,r as _,K as C,b as M,w as m,l as P,p as U,f,i as B,k as j,y as S,a as I}from"./app-DOBgdSPY.js";import{S as a}from"./sweetalert2.esm.all-BQIkj5Wb.js";const L={class:"absolute inset-0 overflow-hidden"},N=b({__name:"AuroraBackgound",props:{radialGradient:{type:Boolean,default:!0},class:{}},setup(u){const o=u;return(l,p)=>(i(),c("main",null,[t("div",v(o,{class:["relative flex flex-col h-screen items-center justify-center bg-mccblue text-slate-950 transition-colors",o.class]}),[t("div",L,[t("div",{class:y(["pointer-events-none absolute -inset-[10px] opacity-50 will-change-transform blur-[10px] invert dark:invert-0","aurora-background-gradient-after aurora-gradient-animation",o.radialGradient?"mask-radial-gradient":""])},null,2)]),h(l.$slots,"default")],16)]))}}),V={class:"flex w-full mx-auto md:flex-row flex-col items-center justify-between gap-x-1 md:px-20"},$={class:"w-full md:w-1/2 flex items-center justify-center py-8 animate-slide-in-top"},q={class:"w-[90%] md:max-w-sm bg-white p-6 rounded-lg shadow-xl border border-gray-200"},A={class:"relative"},O={class:"relative"},D=["type"],E={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},F={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G={__name:"LoginAurora",setup(u){const o=k({Username:"",Password:"",remember:!1}),l=_(!1);function p(){l.value=!l.value}function w(){}async function x(){var n,e;if(!o.Username||!o.Password)return a.fire({icon:"error",title:"Oops...",text:"Please fill in both Username and Password."});try{const s=await I.post("/custom-login",o);console.log("Session data:",s.data);const r=s.data.fullname||"User";a.fire({icon:"success",title:"Login Successful!",text:"Welcome, "+r+"!",timer:1800,showConfirmButton:!1}).then(()=>{window.location.href=s.data.redirect})}catch(s){const r=(n=s.response)==null?void 0:n.status,d=(e=s.response)==null?void 0:e.data;r===404&&d.error==="not_found"?a.fire("User Not Found","No account with that Username.","error"):r===401&&d.error==="wrong_password"?a.fire("Incorrect Password",`Wrong password. ${d.attempts} attempt(s) remaining.`,"error"):r===429&&d.error==="locked"?g():a.fire("Login Failed","Something went wrong. Please try again.","error")}}function g(){let n=60;a.fire({title:"Too Many Attempts",html:`Try again in <b>${n}</b> seconds.`,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{const e=a.getHtmlContainer().querySelector("b"),s=setInterval(()=>{n--,e.textContent=n,n<=0&&(clearInterval(s),location.reload())},1e3)}})}return(n,e)=>{const s=C("Motion");return i(),M(N,null,{default:m(()=>[P(s,{as:"div",initial:{opacity:0,y:40,filter:"blur(10px)"},"while-in-view":{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:.3,duration:.8,ease:"easeInOut"},class:"relative flex flex-col items-center justify-center gap-4 px-4"},{default:m(()=>[t("div",V,[e[8]||(e[8]=t("div",{class:"flex flex-col justify-center items-center md:w-1/2 px-6 py-10 md:-mt-20 animate-slide-in-top"},[t("div",{class:"w-full max-w-md text-center"},[t("img",{src:"/logo.png",alt:"Logo",class:"h-52 select-none md:h-80 mb-[-70px] md:mb-[-35px] mx-auto"}),t("p",{class:"hidden md:block text-lg md:text-xl text-mccmidnightblue mt-0"}," Monitor your grades in real-time with MCCâ€™s official grading and info system. ")])],-1)),t("div",$,[t("div",q,[t("form",{onSubmit:U(x,["prevent"]),class:"space-y-4"},[t("div",A,[f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.Username=r),type:"text",id:"username",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:""},null,512),[[B,o.Username]]),e[2]||(e[2]=t("label",{for:"username",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Username ",-1))]),t("div",O,[f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.Password=r),type:l.value?"text":"password",id:"password",class:"peer w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 pt-6 pb-2 placeholder-transparent focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",placeholder:"",required:"",onInput:w},null,40,D),[[S,o.Password]]),e[5]||(e[5]=t("label",{for:"password",class:"select-none absolute left-3 top-1 text-sm text-gray-500 transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-1 peer-focus:text-sm peer-focus:text-mccblue"}," Password ",-1)),o.Password?(i(),c("button",{key:0,type:"button",onClick:p,class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-mccblue transition"},[l.value?(i(),c("svg",F,e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a10.036 10.036 0 013.262-4.572M9.88 9.88a3 3 0 104.24 4.24M6.1 6.1l11.8 11.8"},null,-1)]))):(i(),c("svg",E,e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.458 12C3.732 7.943 7.522 5 12 5c4.478 0 8.268 2.943 9.542 7-.728 2.314-2.254 4.33-4.293 5.657M15 12a3 3 0 01-6 0"},null,-1)])))])):j("",!0)]),e[6]||(e[6]=t("button",{type:"submit",class:"w-full select-none bg-mccblue hover:bg-mccdarkblue text-white font-semibold py-2 rounded-md transition duration-200"}," Log In ",-1)),e[7]||(e[7]=t("div",{class:"text-center"},[t("a",{href:"#",class:"text-mccblue hover:underline text-sm transition"},"Forgot Password?")],-1))],32)])])])]),_:1})]),_:1})}}};export{G as default};
