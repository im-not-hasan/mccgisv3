import{r as m,L as Y,g as o,d as l,e,l as L,w as z,b as O,M as re,i as S,t as n,p as K,f as D,j as P,F as $,h as E,v as Q,T as W,a as B,c as U,n as R,o as ie,fk as ce,k as T}from"./app-8qenG6k4.js";import{S as M}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as de}from"./DashboardLayout-yVP8rKql.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},pe={class:"bg-white w-[90%] max-w-2xl p-6 rounded-xl shadow-lg relative animate-fade-in-up"},xe={class:"text-xl font-bold mb-4 text-mccblue select-none"},me=["value"],ve={__name:"ClassesForm",props:{editMode:Boolean,classToEdit:Object},emits:["submitted","cancelEdit"],setup(C,{emit:j}){const x=j,_=C,k=["BSIT","BSBA","BSHM","BSED","BEED"],g=m(!1),a=m({name:"",course:"",year:"",section:""}),f=()=>{_.editMode||(b(),g.value=!0)},y=()=>{g.value=!1,b(),x("cancelEdit")},b=()=>{a.value={name:"",course:"",year:"",section:""}};Y(()=>_.classToEdit,i=>{_.editMode&&i&&(a.value={name:i.name,course:i.course,year:i.year,section:i.section},g.value=!0)},{immediate:!0});const p=async()=>{var i;try{_.editMode&&((i=_.classToEdit)!=null&&i.id)?(await B.put(`/classes/${_.classToEdit.id}`,a.value),M.fire({icon:"success",title:"Class Updated",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})):(await B.post("/classes",a.value),M.fire({icon:"success",title:"Class Added",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})),b(),g.value=!1,x("submitted")}catch{M.fire("Error","Failed to save class.","error")}};return(i,r)=>(l(),o("div",null,[e("button",{onClick:f,class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded-lg shadow-md transition"},r[4]||(r[4]=[e("p",{class:"text-xs md:text-base select-none"},"+ Add Class",-1)])),L(W,{name:"fade"},{default:z(()=>[(l(),O(re,{to:"body"},[g.value?(l(),o("div",ue,[e("div",pe,[e("h2",xe,n(C.editMode?"Edit Class":"Add New Class"),1),e("form",{onSubmit:K(p,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[r[5]||(r[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Class Name",-1)),D(e("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=w=>a.value.name=w),placeholder:"e.g. BSIT 1-North",class:"select-none w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},null,512),[[P,a.value.name]])]),e("div",null,[r[7]||(r[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Course",-1)),D(e("select",{"onUpdate:modelValue":r[1]||(r[1]=w=>a.value.course=w),class:"w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},[r[6]||(r[6]=e("option",{value:"",disabled:""},"Select Course",-1)),(l(),o($,null,E(k,w=>e("option",{key:w,value:w},n(w),9,me)),64))],512),[[Q,a.value.course]])]),e("div",null,[r[9]||(r[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Year",-1)),D(e("select",{"onUpdate:modelValue":r[2]||(r[2]=w=>a.value.year=w),class:"w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},r[8]||(r[8]=[e("option",{value:"",disabled:""},"Select Year",-1),e("option",{value:"1"},"1st Year",-1),e("option",{value:"2"},"2nd Year",-1),e("option",{value:"3"},"3rd Year",-1),e("option",{value:"4"},"4th Year",-1)]),512),[[Q,a.value.year]])]),e("div",null,[r[10]||(r[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Section",-1)),D(e("input",{type:"text","onUpdate:modelValue":r[3]||(r[3]=w=>a.value.section=w),placeholder:"e.g. A",class:"select-none w-full rounded-md border border-gray-300 bg-white text-gray-800 px-3 py-2 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-mccblue focus:border-mccblue transition",required:""},null,512),[[P,a.value.section]])]),e("div",{class:"md:col-span-2 flex justify-end gap-4 pt-4"},[e("button",{type:"button",onClick:y,class:"text-gray-600 hover:text-red-500 transition"},"Cancel"),r[11]||(r[11]=e("button",{type:"submit",class:"bg-mccblue hover:bg-mccdarkblue text-white px-4 py-2 rounded-md transition"},"Save",-1))])],32),e("button",{onClick:y,class:"absolute top-4 right-4 text-gray-500 text-2xl hover:text-red-500 transition"}," × ")])])):S("",!0)]))]),_:1})]))}},be=X(ve,[["__scopeId","data-v-c613dfa4"]]),ye={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},fe={class:"bg-white w-full max-w-4xl p-6 rounded-lg shadow-lg relative overflow-y-auto max-h-[90vh] animate-fade-in-up"},he={class:"text-xl sm:text-2xl font-bold mb-4 text-mccblue"},ge={key:0,class:"flex justify-center py-4"},we={key:1},_e={class:"mb-6"},ke={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2"},Ce=["disabled"],$e={key:0,class:"mt-2 border rounded bg-white shadow max-h-40 overflow-auto text-xs sm:text-sm"},Se=["onClick"],Ee={class:"overflow-x-auto rounded-lg border shadow"},Be={class:"min-w-full text-xs sm:text-sm bg-white"},Me={class:"px-2 sm:px-4 py-2"},je={class:"px-2 sm:px-4 py-2"},Ve={class:"px-2 sm:px-4 py-2"},De={class:"px-2 sm:px-4 py-2"},Ne={class:"px-2 sm:px-4 py-2 text-center"},Te={class:"px-2 sm:px-4 py-2 text-center"},Ae=["onClick"],Fe={key:0},Le={__name:"StudentsInClass",props:{visible:Boolean,selectedClass:Object},emits:["close","updated"],setup(C,{emit:j}){const x=C,_=j,k=m([]),g=m([]),a=m(""),f=m(null),y=m([]),b=m(!1),p=u=>`${u.lname}, ${u.fname} ${u.mname||""}`.trim(),i=async()=>{var u;if((u=x.selectedClass)!=null&&u.id){b.value=!0;try{const c=await B.get(`/classes/${x.selectedClass.id}/students`);k.value=c.data.students}catch(c){console.error("Error fetching students:",c)}finally{b.value=!1}}},r=async()=>{try{const u=await B.get("/students",{params:{course:x.selectedClass.course,year:x.selectedClass.year}});g.value=u.data.students}catch(u){console.error("Error fetching eligible students:",u)}},w=U(()=>[...k.value].sort((u,c)=>u.gender!==c.gender?u.gender==="Male"?-1:1:u.lname.localeCompare(c.lname))),V=()=>{const u=a.value.toLowerCase();y.value=g.value.filter(c=>p(c).toLowerCase().includes(u)&&!k.value.some(h=>h.id===c.id))},A=u=>{a.value=p(u),f.value=u.id,y.value=[]},q=async()=>{if(f.value)try{await B.post(`/classes/${x.selectedClass.id}/students`,{student_id:f.value}),M.fire("Added","Student added to class","success"),f.value=null,a.value="",await i(),_("updated")}catch(u){console.error("Error adding student:",u),M.fire("Error","Failed to add student","error")}},G=async u=>{try{await B.delete(`/classes/${x.selectedClass.id}/students/${u}`),M.fire("Deleted","Student removed from class","success"),await i(),_("updated")}catch(c){console.error("Error removing student:",c),M.fire("Error","Failed to remove student","error")}},F=()=>_("close");return Y(()=>x.visible,async u=>{u&&(b.value=!0,await i(),await r(),a.value="",f.value=null,y.value=[],b.value=!1)}),(u,c)=>(l(),O(W,{name:"fade"},{default:z(()=>[C.visible?(l(),o("div",ye,[e("div",fe,[e("h2",he," Students in "+n(C.selectedClass.name),1),b.value?(l(),o("div",ge,c[1]||(c[1]=[e("svg",{class:"animate-spin h-8 w-8 text-mccblue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):(l(),o("div",we,[e("div",_e,[c[2]||(c[2]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Add Student",-1)),e("div",ke,[D(e("input",{"onUpdate:modelValue":c[0]||(c[0]=h=>a.value=h),type:"text",placeholder:"Search student by name...",class:"w-full border rounded px-3 py-2 text-xs sm:text-sm",onInput:V},null,544),[[P,a.value]]),e("button",{onClick:q,disabled:!f.value,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-xs sm:text-sm"}," Add ",8,Ce)]),y.value.length&&a.value?(l(),o("ul",$e,[(l(!0),o($,null,E(y.value,h=>(l(),o("li",{key:h.id,class:"px-4 py-2 hover:bg-mcclightblue hover:text-white cursor-pointer",onClick:H=>A(h)},n(p(h))+" ("+n(h.gender)+") ",9,Se))),128))])):S("",!0)]),e("div",Ee,[e("table",Be,[c[4]||(c[4]=e("thead",{class:"bg-mcclightblue text-white"},[e("tr",null,[e("th",{class:"px-2 sm:px-4 py-2"},"Student ID"),e("th",{class:"px-2 sm:px-4 py-2"},"Last Name"),e("th",{class:"px-2 sm:px-4 py-2"},"First Name"),e("th",{class:"px-2 sm:px-4 py-2"},"Middle Name"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Gender"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Action")])],-1)),e("tbody",null,[(l(!0),o($,null,E(w.value,h=>(l(),o("tr",{key:h.id,class:"hover:bg-gray-100"},[e("td",Me,n(h.studid),1),e("td",je,n(h.lname),1),e("td",Ve,n(h.fname),1),e("td",De,n(h.mname),1),e("td",Ne,n(h.gender),1),e("td",Te,[e("button",{onClick:H=>G(h.id),class:"text-red-600 hover:underline"},"Delete",8,Ae)])]))),128)),k.value.length===0?(l(),o("tr",Fe,c[3]||(c[3]=[e("td",{colspan:"6",class:"text-center py-4"},"No students in this class.",-1)]))):S("",!0)])])])])),e("button",{onClick:F,class:"absolute top-4 right-4 text-xl text-gray-600 hover:text-red-500"}," × ")])])):S("",!0)]),_:1}))}},Ue=X(Le,[["__scopeId","data-v-ee490ae3"]]),Pe={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},Ye={class:"bg-white w-full max-w-5xl p-6 rounded-lg shadow-lg relative overflow-y-auto max-h-[90vh] animate-fade-in-up"},ze={class:"text-xl sm:text-2xl font-bold mb-4 text-mccblue"},Oe={key:0,class:"flex justify-center py-4"},qe={key:1},Ge={class:"overflow-x-auto rounded-lg border shadow"},He={class:"min-w-full text-xs sm:text-sm bg-white"},Ie={class:"px-2 sm:px-4 py-2"},Je={class:"px-2 sm:px-4 py-2"},Ke={class:"px-2 sm:px-4 py-2"},Qe={class:"px-2 sm:px-4 py-2 text-center"},Re={class:"px-2 sm:px-4 py-2 text-center space-x-2"},We=["onClick"],Xe={key:0},Ze={__name:"SubjectsInClass",props:{visible:Boolean,selectedClass:Object},emits:["close","updated"],setup(C,{emit:j}){const x=C,_=j,k=m([]),g=m(!1),a=async()=>{var b;if((b=x.selectedClass)!=null&&b.id){g.value=!0;try{const p=await B.get(`/classes/${x.selectedClass.id}/subjects`);k.value=p.data.subjects}catch(p){console.error("Error fetching subjects:",p)}finally{g.value=!1}}};function f(b,p){const i=route("gradesheet.print",{subject_id:b.id,course:p.course,year:p.year,section:p.section,ay_id:b.ay_id,teacher_id:b.teacher_id});window.open(i,"_blank")}const y=()=>_("close");return Y(()=>x.visible,async b=>{b&&(g.value=!0,await a())}),(b,p)=>(l(),O(W,{name:"fade"},{default:z(()=>[C.visible?(l(),o("div",Pe,[e("div",Ye,[e("h2",ze," Subjects in "+n(C.selectedClass.name),1),g.value?(l(),o("div",Oe,p[0]||(p[0]=[e("svg",{class:"animate-spin h-8 w-8 text-mccblue",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)]))):(l(),o("div",qe,[e("div",Ge,[e("table",He,[p[2]||(p[2]=e("thead",{class:"bg-mcclightblue text-white"},[e("tr",null,[e("th",{class:"px-2 sm:px-4 py-2"},"Subject Code"),e("th",{class:"px-2 sm:px-4 py-2"},"Description"),e("th",{class:"px-2 sm:px-4 py-2"},"Instructor"),e("th",{class:"px-2 sm:px-4 py-2"},"Status"),e("th",{class:"px-2 sm:px-4 py-2 text-center"},"Action")])],-1)),e("tbody",null,[(l(!0),o($,null,E(k.value,i=>(l(),o("tr",{key:i.id,class:"hover:bg-gray-100"},[e("td",Ie,n(i.code),1),e("td",Je,n(i.title),1),e("td",Ke,n(i.instructor),1),e("td",Qe,[e("span",{class:R({"text-green-600 font-semibold":i.submitted==1,"text-red-600 italic font-bold":i.submitted!=1})},n(i.submitted==1?"Submitted":"Not Submitted"),3)]),e("td",Re,[e("button",{class:"text-blue-600 select-none hover:underline",onClick:r=>f(i,C.selectedClass)},"Print",8,We)])]))),128)),k.value.length===0?(l(),o("tr",Xe,p[1]||(p[1]=[e("td",{colspan:"6",class:"text-center py-4"},"No subjects in this class.",-1)]))):S("",!0)])])])])),e("button",{onClick:y,class:"absolute top-4 right-4 text-xl text-gray-600 hover:text-red-500"}," × ")])])):S("",!0)]),_:1}))}},et=X(Ze,[["__scopeId","data-v-a7cb90e5"]]),tt={key:0},st={class:"flex flex-col md:flex-row justify-between select-none items-center p-5 mt-[-30px] mb-[-20px]"},lt={class:"mb-2 md:mb-0"},ot=["value"],nt=["value"],at={class:"text-gray-700"},rt={class:"flex flex-row gap-2 items-center mb-5 md:mb-0"},it={class:"px-0 sm:px-4 animate-slide-in-top"},ct={class:"overflow-x-auto rounded-lg border shadow"},dt={key:0,class:"min-w-full bg-white text-xs sm:text-sm"},ut={class:"bg-mcclightblue text-white"},pt=["onClick"],xt={key:0},mt=["onDblclick"],vt={class:"px-2 sm:px-4 py-2"},bt={class:"px-2 sm:px-4 py-2 text-center"},yt={class:"px-2 sm:px-4 py-2 text-center"},ft={class:"px-2 sm:px-4 py-2 text-center"},ht={class:"px-2 sm:px-4 py-2 text-center space-x-2"},gt=["onClick"],wt=["onClick"],_t=["onClick"],kt={key:0},Ct={key:1,class:"min-w-full bg-white text-xs sm:text-sm"},$t={class:"bg-mcclightblue text-white"},St=["onClick"],Et={key:0},Bt=["onDblclick"],Mt={class:"px-2 sm:px-4 py-2"},jt={class:"px-2 sm:px-4 py-2 text-center"},Vt={class:"px-2 sm:px-4 py-2 text-center"},Dt={class:"px-2 sm:px-4 py-2 text-center"},Nt={class:"px-2 sm:px-4 py-2 text-center space-x-2"},Tt=["onClick"],At={key:0},Ft={class:"flex flex-col sm:flex-row justify-between bg-mcclightblue items-center px-2 text-xs sm:text-sm text-white select-none"},Lt={class:"mb-2 sm:mb-0"},Ut={class:"font-semibold"},Pt={class:"font-semibold"},Yt={class:"font-semibold"},zt={class:"flex flex-wrap gap-1"},Ot=["disabled"],qt=["onClick"],Gt=["disabled"],Ht={key:1,class:"text-center text-red-500"},Rt={__name:"ViewClasses",setup(C){const j=m(""),x=m(""),_=m(""),k=m([]),g=m(""),a=m([{key:"year",direction:"asc"}]),f=m(10),y=m(1),b=["BSIT","BSBA","BSHM","BSED","BEED"],p=m([...b]),i=m(!1),r=m(null),w=m(!1),V=m(null),A=d=>{V.value=d,w.value=!0},q=()=>{w.value=!1,V.value=null},G=async()=>{await c()},F=[{key:"name",label:"Class Name"},{key:"course",label:"Course"},{key:"year",label:"Year"},{key:"section",label:"Section"}],u=async()=>{try{const d=await B.get("/session");j.value=d.data.fullname,x.value=d.data.level,_.value=d.data.username,(!j.value||!x.value)&&(window.location.href="/")}catch{window.location.href="/"}},c=async()=>{try{const d={courses:p.value.join(",")},s=await B.get("/api/classes",{params:d});k.value=s.data.classes}catch(d){console.error("Failed to load class list:",d)}},h=async d=>{if((await M.fire({title:"Delete Class?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete"})).isConfirmed)try{await B.delete(`/classes/${d}`),await c(),M.fire({icon:"success",title:"Class Deleted",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})}catch{M.fire("Error","Failed to delete class","error")}},H=d=>{i.value=!0,r.value={...d}},le=()=>{i.value=!1,r.value=null},oe=async()=>{i.value=!1,r.value=null,await c()},I=U(()=>k.value.filter(d=>p.value.includes(d.course)&&Object.values(d).join(" ").toLowerCase().includes(g.value.toLowerCase())).sort((d,s)=>{for(const t of a.value){const v=t.key,se=t.direction;if(d[v]<s[v])return se==="asc"?-1:1;if(d[v]>s[v])return se==="asc"?1:-1}return 0})),N=U(()=>{const d=(y.value-1)*f.value;return I.value.slice(d,d+f.value)}),Z=U(()=>Math.ceil(I.value.length/f.value)),ee=()=>{y.value=1},te=d=>{const s=a.value.findIndex(t=>t.key===d);s!==-1?a.value[s].direction=a.value[s].direction==="asc"?"desc":"asc":a.value.push({key:d,direction:"asc"})},J=m(!1),ne=d=>{V.value=d,J.value=!0},ae=()=>{J.value=!1,V.value=null};return ie(()=>{u(),c()}),Y(p,()=>{c()}),(d,s)=>(l(),o($,null,[L(de,{fullname:j.value,userLevel:x.value,title:"All Classes"},{default:z(()=>[x.value==="admin"||x.value==="registrar"?(l(),o("div",tt,[e("div",st,[e("div",lt,[s[6]||(s[6]=e("label",{class:"mr-2"},"Show",-1)),D(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),onChange:ee,class:"border py-1 rounded"},[(l(),o($,null,E([10,25,50,100],t=>e("option",{key:t,value:t},n(t),9,ot)),64))],544),[[Q,f.value]]),s[7]||(s[7]=e("span",{class:"ml-2"},"entries",-1))]),e("div",{class:R(["flex flex-wrap gap-4 p-4 bg-white rounded shadow mb-4 mt-[16px]",x.value==="admin"?"md:ml-[185px]":"md:ml-[58px]"])},[(l(),o($,null,E(b,t=>e("label",{key:t,class:"inline-flex items-center space-x-2"},[D(e("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=v=>p.value=v),value:t,class:"h-4 w-4 text-mcclightblue focus:ring-[0%]",onChange:c},null,40,nt),[[ce,p.value]]),e("span",at,n(t),1)])),64))],2),e("div",rt,[D(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>g.value=t),onInput:ee,type:"text",placeholder:"Search classes...",class:"border px-3 py-1 rounded w-full md:w-64"},null,544),[[P,g.value]]),x.value==="admin"?(l(),O(be,{key:0,editMode:i.value,classToEdit:r.value,onSubmitted:oe,onCancelEdit:le,class:"w-[160px] md:w-auto"},null,8,["editMode","classToEdit"])):S("",!0)])]),e("div",it,[e("div",ct,[x.value==="admin"?(l(),o("table",dt,[e("thead",ut,[e("tr",null,[(l(),o($,null,E(F,t=>e("th",{key:t.key,class:"px-2 sm:px-4 py-2 text-center cursor-pointer select-none",onClick:v=>te(t.key)},[T(n(t.label)+" ",1),a.value.find(v=>v.key===t.key)?(l(),o("span",xt,n(a.value.find(v=>v.key===t.key).direction==="asc"?"▲":"▼"),1)):S("",!0)],8,pt)),64)),s[8]||(s[8]=e("th",{class:"px-2 sm:px-4 py-2 text-center select-none"},"Actions",-1))])]),e("tbody",null,[(l(!0),o($,null,E(N.value,t=>(l(),o("tr",{key:t.id,class:"hover:bg-gray-100 cursor-pointer",onDblclick:v=>A(t)},[e("td",vt,n(t.name),1),e("td",bt,n(t.course),1),e("td",yt,n(t.year),1),e("td",ft,n(t.section),1),e("td",ht,[e("button",{class:"text-green-600 select-none hover:underline",onClick:K(v=>A(t),["stop"])},"View",8,gt),e("button",{class:"text-blue-600 select-none hover:underline",onClick:v=>H(t)},"Edit",8,wt),e("button",{class:"text-red-600 select-none hover:underline",onClick:v=>h(t.id)},"Delete",8,_t)])],40,mt))),128)),N.value.length===0?(l(),o("tr",kt,s[9]||(s[9]=[e("td",{colspan:"5",class:"text-center py-4"},"No classes found.",-1)]))):S("",!0)])])):x.value==="registrar"?(l(),o("table",Ct,[e("thead",$t,[e("tr",null,[(l(),o($,null,E(F,t=>e("th",{key:t.key,class:"px-2 sm:px-4 py-2 text-center cursor-pointer select-none",onClick:v=>te(t.key)},[T(n(t.label)+" ",1),a.value.find(v=>v.key===t.key)?(l(),o("span",Et,n(a.value.find(v=>v.key===t.key).direction==="asc"?"▲":"▼"),1)):S("",!0)],8,St)),64)),s[10]||(s[10]=e("th",{class:"px-2 sm:px-4 py-2 text-center select-none"},"Actions",-1))])]),e("tbody",null,[(l(!0),o($,null,E(N.value,t=>(l(),o("tr",{key:t.id,class:"hover:bg-gray-100 cursor-pointer",onDblclick:v=>d.openSubtView(t)},[e("td",Mt,n(t.name),1),e("td",jt,n(t.course),1),e("td",Vt,n(t.year),1),e("td",Dt,n(t.section),1),e("td",Nt,[e("button",{class:"text-green-600 select-none hover:underline",onClick:K(v=>ne(t),["stop"])},"View Subjects",8,Tt)])],40,Bt))),128)),N.value.length===0?(l(),o("tr",At,s[11]||(s[11]=[e("td",{colspan:"5",class:"text-center py-4"},"No classes found.",-1)]))):S("",!0)])])):S("",!0),e("div",Ft,[e("div",Lt,[s[12]||(s[12]=T(" Showing ")),e("span",Ut,n(N.value.length?(y.value-1)*f.value+1:0),1),s[13]||(s[13]=T(" to ")),e("span",Pt,n((y.value-1)*f.value+N.value.length),1),s[14]||(s[14]=T(" of ")),e("span",Yt,n(I.value.length),1),s[15]||(s[15]=T(" entries "))]),e("div",zt,[e("button",{onClick:s[3]||(s[3]=t=>a.value=[]),class:"text-xs sm:text-sm text-white mr-2 border-0 rounded hover:bg-mccblue transition"},"Clear Sorting"),e("button",{onClick:s[4]||(s[4]=t=>y.value--),disabled:y.value===1,class:"px-2 sm:px-3 py-1 border-0 rounded disabled:opacity-50 disabled:hover:bg-mcclightblue hover:bg-mccblue transition"},"Prev",8,Ot),(l(!0),o($,null,E(Z.value,t=>(l(),o("button",{key:t,onClick:v=>y.value=t,class:R(["px-2 sm:px-3 py-1 border-0 rounded",y.value===t?"bg-white text-mccblue font-bold":"hover:bg-mccblue transition"])},n(t),11,qt))),128)),e("button",{onClick:s[5]||(s[5]=t=>y.value++),disabled:y.value===Z.value,class:"px-2 sm:px-3 py-1 border-0 rounded disabled:opacity-50 disabled:hover:bg-mcclightblue hover:bg-mccblue transition"},"Next",8,Gt)])])])])])):(l(),o("div",Ht," Unknown user level: "+n(x.value),1))]),_:1},8,["fullname","userLevel"]),L(et,{visible:J.value,selectedClass:V.value,onClose:ae},null,8,["visible","selectedClass"]),L(Ue,{visible:w.value,selectedClass:V.value,onClose:q,onUpdated:G},null,8,["visible","selectedClass"])],64))}};export{Rt as default};
